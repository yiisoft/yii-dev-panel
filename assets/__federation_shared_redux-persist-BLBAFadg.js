var e="persist:",t="persist/FLUSH",r="persist/REHYDRATE",n="persist/PAUSE",o="persist/PERSIST",i="persist/PURGE",c="persist/REGISTER",u=-1;function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n){n.debug;var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r);return e&&"object"===f(e)&&Object.keys(e).forEach((function(n){"_persist"!==n&&t[n]===r[n]&&(o[n]=e[n])})),o}function p(t){var r,n=t.blacklist||null,o=t.whitelist||null,i=t.transforms||[],c=t.throttle||0,u="".concat(void 0!==t.keyPrefix?t.keyPrefix:e).concat(t.key),f=t.storage;r=!1===t.serialize?function(e){return e}:"function"==typeof t.serialize?t.serialize:y;var s=t.writeFailHandler||null,a={},l={},p=[],b=null,d=null;function O(){if(0===p.length)return b&&clearInterval(b),void(b=null);var e=p.shift(),t=i.reduce((function(t,r){return r.in(t,e,a)}),a[e]);if(void 0!==t)try{l[e]=r(t)}catch(n){console.error("redux-persist/createPersistoid: error serializing state",n)}else delete l[e];0===p.length&&(Object.keys(l).forEach((function(e){void 0===a[e]&&delete l[e]})),d=f.setItem(u,r(l)).catch(v))}function h(e){return(!o||-1!==o.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function v(e){s&&s(e)}return{update:function(e){Object.keys(e).forEach((function(t){h(t)&&a[t]!==e[t]&&-1===p.indexOf(t)&&p.push(t)})),Object.keys(a).forEach((function(t){void 0===e[t]&&h(t)&&-1===p.indexOf(t)&&void 0!==a[t]&&p.push(t)})),null===b&&(b=setInterval(O,c)),a=e},flush:function(){for(;0!==p.length;)O();return d||Promise.resolve()}}}function y(e){return JSON.stringify(e)}function b(t){var r,n=t.transforms||[],o="".concat(void 0!==t.keyPrefix?t.keyPrefix:e).concat(t.key),i=t.storage;return t.debug,r=!1===t.deserialize?function(e){return e}:"function"==typeof t.deserialize?t.deserialize:d,i.getItem(o).then((function(e){if(e)try{var t={},o=r(e);return Object.keys(o).forEach((function(e){t[e]=n.reduceRight((function(t,r){return r.out(t,e,o)}),r(o[e]))})),t}catch(i){throw i}}))}function d(e){return JSON.parse(e)}function O(t){var r=t.storage,n="".concat(void 0!==t.keyPrefix?t.keyPrefix:e).concat(t.key);return r.removeItem(n,h)}function h(e){0}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var P=5e3;function m(e,c){var f=void 0!==e.version?e.version:u;e.debug;var s=void 0===e.stateReconciler?l:e.stateReconciler,a=e.getStoredState||b,y=void 0!==e.timeout?e.timeout:P,d=null,h=!1,v=!0,w=function(e){return e._persist.rehydrated&&d&&!v&&d.update(e),e};return function(u,l){var b=u||{},P=b._persist,m=j(b,["_persist"]);if(l.type===o){var E=!1,S=function(t,r){E||(l.rehydrate(e.key,t,r),E=!0)};if(y&&setTimeout((function(){!E&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),y),v=!1,d||(d=p(e)),P)return g({},c(m,l),{_persist:P});if("function"!=typeof l.rehydrate||"function"!=typeof l.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return l.register(e.key),a(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,f).then((function(e){S(e)}),(function(e){S(void 0,e)}))}),(function(e){S(void 0,e)})),g({},c(m,l),{_persist:{version:f,rehydrated:!1}})}if(l.type===i)return h=!0,l.result(O(e)),g({},c(m,l),{_persist:P});if(l.type===t)return l.result(d&&d.flush()),g({},c(m,l),{_persist:P});if(l.type===n)v=!0;else if(l.type===r){if(h)return g({},m,{_persist:g({},P,{rehydrated:!0})});if(l.key===e.key){var k=c(m,l),x=l.payload,I=g({},!1!==s&&void 0!==x?s(x,u,k,e):k,{_persist:g({},P,{rehydrated:!0})});return w(I)}}if(!P)return c(u,l);var _=c(m,l);return _===m?u:w(g({},_,{_persist:P}))}}function E(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var S=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),k=()=>Math.random().toString(36).substring(7).split("").join("."),x={INIT:`@@redux/INIT${k()}`,REPLACE:`@@redux/REPLACE${k()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${k()}`};function I(e,t,r){if("function"!=typeof e)throw new Error(E(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(E(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(E(1));return r(I)(e,t)}let n=e,o=t,i=new Map,c=i,u=0,f=!1;function s(){c===i&&(c=new Map,i.forEach(((e,t)=>{c.set(t,e)})))}function a(){if(f)throw new Error(E(3));return o}function l(e){if("function"!=typeof e)throw new Error(E(4));if(f)throw new Error(E(5));let t=!0;s();const r=u++;return c.set(r,e),function(){if(t){if(f)throw new Error(E(6));t=!1,s(),c.delete(r),i=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(E(7));if(void 0===e.type)throw new Error(E(8));if("string"!=typeof e.type)throw new Error(E(17));if(f)throw new Error(E(9));try{f=!0,o=n(o,e)}finally{f=!1}return(i=c).forEach((e=>{e()})),e}p({type:x.INIT});return{dispatch:p,subscribe:l,getState:a,replaceReducer:function(e){if("function"!=typeof e)throw new Error(E(10));n=e,p({type:x.REPLACE})},[S]:function(){const e=l;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(E(11));function r(){const e=t;e.next&&e.next(a())}r();return{unsubscribe:e(r)}},[S](){return this}}}}}function _(e){const t=Object.keys(e),r={};for(let c=0;c<t.length;c++){const n=t[c];"function"==typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let o;try{!function(e){Object.keys(e).forEach((t=>{const r=e[t];if(void 0===r(void 0,{type:x.INIT}))throw new Error(E(12));if(void 0===r(void 0,{type:x.PROBE_UNKNOWN_ACTION()}))throw new Error(E(13))}))}(r)}catch(i){o=i}return function(e={},t){if(o)throw o;let i=!1;const c={};for(let o=0;o<n.length;o++){const u=n[o],f=r[u],s=e[u],a=f(s,t);if(void 0===a)throw t&&t.type,new Error(E(14));c[u]=a,i=i||a!==s}return i=i||n.length!==Object.keys(e).length,i?c:e}}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n){n.debug;var o=D({},r);return e&&"object"===R(e)&&Object.keys(e).forEach((function(n){var i;"_persist"!==n&&(t[n]===r[n]&&(null===(i=r[n])||Array.isArray(i)||"object"!==R(i)?o[n]=e[n]:o[n]=D({},o[n],{},e[n])))})),o}function z(e,t){return e.stateReconciler=void 0===e.stateReconciler?T:e.stateReconciler,m(e,_(t))}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(r,!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={registry:[],bootstrapped:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return $({},e,{registry:[].concat(C(e.registry),[t.key])});case r:var n=e.registry.indexOf(t.key),o=C(e.registry);return o.splice(n,1),$({},e,{registry:o,bootstrapped:0===o.length});default:return e}};function H(e,u,f){var s=f||!1,a=I(B,M,u&&u.enhancer?u.enhancer:void 0),l=function(e){a.dispatch({type:c,key:e})},p=function(t,n,o){var i={type:r,payload:n,err:o,key:t};e.dispatch(i),a.dispatch(i),s&&y.getState().bootstrapped&&(s(),s=!1)},y=$({},a,{purge:function(){var t=[];return e.dispatch({type:i,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var r=[];return e.dispatch({type:t,result:function(e){r.push(e)}}),Promise.all(r)},pause:function(){e.dispatch({type:n})},persist:function(){e.dispatch({type:o,register:l,rehydrate:p})}});return u&&u.manualPersist||y.persist(),y}function K(e,t){return(t||{}).debug,function(t,r){if(!t)return Promise.resolve(void 0);var n=t._persist&&void 0!==t._persist.version?t._persist.version:u;if(n===r)return Promise.resolve(t);if(n>r)return Promise.resolve(t);var o=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return r>=e&&e>n})).sort((function(e,t){return e-t}));try{var i=o.reduce((function(t,r){return e[r](t)}),t);return Promise.resolve(i)}catch(c){return Promise.reject(c)}}}function W(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.whitelist||null,o=r.blacklist||null;function i(e){return!(!n||-1!==n.indexOf(e))||!(!o||-1===o.indexOf(e))}return{in:function(t,r,n){return!i(r)&&e?e(t,r,n):t},out:function(e,r,n){return!i(r)&&t?t(e,r,n):e}}}export{u as DEFAULT_VERSION,t as FLUSH,e as KEY_PREFIX,n as PAUSE,o as PERSIST,i as PURGE,c as REGISTER,r as REHYDRATE,K as createMigrate,p as createPersistoid,W as createTransform,b as getStoredState,z as persistCombineReducers,m as persistReducer,H as persistStore,O as purgeStoredState};
