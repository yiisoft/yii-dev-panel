import{c as e,a as r}from"./redux-0f8ba802.js";var t="persist:",n="persist/FLUSH",o="persist/REHYDRATE",i="persist/PAUSE",c="persist/PERSIST",u="persist/PURGE",s="persist/REGISTER",f=-1;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y(e,r,t,n){n.debug;var o=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(t,!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},t);return e&&"object"===a(e)&&Object.keys(e).forEach((function(n){"_persist"!==n&&r[n]===t[n]&&(o[n]=e[n])})),o}function b(e){var r,n=e.blacklist||null,o=e.whitelist||null,i=e.transforms||[],c=e.throttle||0,u="".concat(void 0!==e.keyPrefix?e.keyPrefix:t).concat(e.key),s=e.storage;r=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:d;var f=e.writeFailHandler||null,a={},p={},l=[],y=null,b=null;function O(){if(0===l.length)return y&&clearInterval(y),void(y=null);var e=l.shift(),t=i.reduce((function(r,t){return t.in(r,e,a)}),a[e]);if(void 0!==t)try{p[e]=r(t)}catch(n){console.error("redux-persist/createPersistoid: error serializing state",n)}else delete p[e];0===l.length&&(Object.keys(p).forEach((function(e){void 0===a[e]&&delete p[e]})),b=s.setItem(u,r(p)).catch(h))}function v(e){return(!o||-1!==o.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function h(e){f&&f(e)}return{update:function(e){Object.keys(e).forEach((function(r){v(r)&&a[r]!==e[r]&&-1===l.indexOf(r)&&l.push(r)})),Object.keys(a).forEach((function(r){void 0===e[r]&&v(r)&&-1===l.indexOf(r)&&void 0!==a[r]&&l.push(r)})),null===y&&(y=setInterval(O,c)),a=e},flush:function(){for(;0!==l.length;)O();return b||Promise.resolve()}}}function d(e){return JSON.stringify(e)}function O(e){var r,n=e.transforms||[],o="".concat(void 0!==e.keyPrefix?e.keyPrefix:t).concat(e.key),i=e.storage;return e.debug,r=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:v,i.getItem(o).then((function(e){if(e)try{var t={},o=r(e);return Object.keys(o).forEach((function(e){t[e]=n.reduceRight((function(r,t){return t.out(r,e,o)}),r(o[e]))})),t}catch(i){throw i}}))}function v(e){return JSON.parse(e)}function h(e){var r=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:t).concat(e.key);return r.removeItem(n,g)}function g(e){0}function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(t,!0).forEach((function(r){P(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function P(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var S=5e3;function k(e,r){var t=void 0!==e.version?e.version:f;e.debug;var s=void 0===e.stateReconciler?y:e.stateReconciler,a=e.getStoredState||O,p=void 0!==e.timeout?e.timeout:S,l=null,d=!1,v=!0,g=function(e){return e._persist.rehydrated&&l&&!v&&l.update(e),e};return function(f,y){var O=f||{},m=O._persist,P=w(O,["_persist"]);if(y.type===c){var S=!1,k=function(r,t){S||(y.rehydrate(e.key,r,t),S=!0)};if(p&&setTimeout((function(){!S&&k(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),p),v=!1,l||(l=b(e)),m)return j({},r(P,y),{_persist:m});if("function"!=typeof y.rehydrate||"function"!=typeof y.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return y.register(e.key),a(e).then((function(r){(e.migrate||function(e,r){return Promise.resolve(e)})(r,t).then((function(e){k(e)}),(function(e){k(void 0,e)}))}),(function(e){k(void 0,e)})),j({},r(P,y),{_persist:{version:t,rehydrated:!1}})}if(y.type===u)return d=!0,y.result(h(e)),j({},r(P,y),{_persist:m});if(y.type===n)return y.result(l&&l.flush()),j({},r(P,y),{_persist:m});if(y.type===i)v=!0;else if(y.type===o){if(d)return j({},P,{_persist:j({},m,{rehydrated:!0})});if(y.key===e.key){var E=r(P,y),x=y.payload,D=j({},!1!==s&&void 0!==x?s(x,f,E,e):E,{_persist:j({},m,{rehydrated:!0})});return g(D)}}if(!m)return r(f,y);var _=r(P,y);return _===P?f:g(j({},_,{_persist:m}))}}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(t,!0).forEach((function(r){_(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function R(e,r,t,n){n.debug;var o=D({},t);return e&&"object"===E(e)&&Object.keys(e).forEach((function(n){var i;"_persist"!==n&&(r[n]===t[n]&&(null===(i=t[n])||Array.isArray(i)||"object"!==E(i)?o[n]=e[n]:o[n]=D({},o[n],{},e[n])))})),o}function I(r,t){return r.stateReconciler=void 0===r.stateReconciler?R:r.stateReconciler,k(r,e(t))}function A(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(t,!0).forEach((function(r){H(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function H(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var U={registry:[],bootstrapped:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case s:return z({},e,{registry:[].concat(A(e.registry),[r.key])});case o:var t=e.registry.indexOf(r.key),n=A(e.registry);return n.splice(t,1),z({},e,{registry:n,bootstrapped:0===n.length});default:return e}};function G(e,t,f){var a=f||!1,p=r(F,U,t&&t.enhancer?t.enhancer:void 0),l=function(e){p.dispatch({type:s,key:e})},y=function(r,t,n){var i={type:o,payload:t,err:n,key:r};e.dispatch(i),p.dispatch(i),a&&b.getState().bootstrapped&&(a(),a=!1)},b=z({},p,{purge:function(){var r=[];return e.dispatch({type:u,result:function(e){r.push(e)}}),Promise.all(r)},flush:function(){var r=[];return e.dispatch({type:n,result:function(e){r.push(e)}}),Promise.all(r)},pause:function(){e.dispatch({type:i})},persist:function(){e.dispatch({type:c,register:l,rehydrate:y})}});return t&&t.manualPersist||b.persist(),b}function J(e,r){(r||{}).debug;return function(r,t){if(!r)return Promise.resolve(void 0);var n=r._persist&&void 0!==r._persist.version?r._persist.version:f;if(n===t)return Promise.resolve(r);if(n>t)return Promise.resolve(r);var o=Object.keys(e).map((function(e){return parseInt(e)})).filter((function(e){return t>=e&&e>n})).sort((function(e,r){return e-r}));try{var i=o.reduce((function(r,t){return e[t](r)}),r);return Promise.resolve(i)}catch(c){return Promise.reject(c)}}}function N(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.whitelist||null,o=t.blacklist||null;function i(e){return!(!n||-1!==n.indexOf(e))||!(!o||-1===o.indexOf(e))}return{in:function(r,t,n){return!i(t)&&e?e(r,t,n):r},out:function(e,t,n){return!i(t)&&r?r(e,t,n):e}}}export{f as DEFAULT_VERSION,n as FLUSH,t as KEY_PREFIX,i as PAUSE,c as PERSIST,u as PURGE,s as REGISTER,o as REHYDRATE,J as createMigrate,b as createPersistoid,N as createTransform,O as getStoredState,I as persistCombineReducers,k as persistReducer,G as persistStore,h as purgeStoredState};
