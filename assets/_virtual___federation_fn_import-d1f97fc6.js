import{_ as r}from"./preload-helper-910b4efd.js";const e="[0-9A-Za-z-]+",t=`(?:\\+(${e}(?:\\.${e})*))`,$="0|[1-9]\\d*",n="[0-9]+",o="\\d*[a-zA-Z-][a-zA-Z0-9-]*",i=`(?:${n}|${o})`,a=`(?:${$}|${o})`,s=`(?:-(${a}(?:\\.${a})*))`,u=`${$}|x|X|\\*`,c=`[v=\\s]*(${u})(?:\\.(${u})(?:\\.(${u})(?:${s})?${t}?)?)?`,f=`^\\s*(${c})\\s+-\\s+(${c})\\s*$`,l="((?:<|>)?=?)",p=`(\\s*)${l}\\s*(${`[v=\\s]*${`(${n})\\.(${n})\\.(${n})`}${`(?:-?(${i}(?:\\.${i})*))`}?${t}?`}|${c})`,d="(?:~>?)",m=`(\\s*)${d}\\s+`,_="(?:\\^)",h=`(\\s*)${_}\\s+`,j="(<|>)?=?\\s*\\*",v=`^${_}${c}$`,g=`^${d}${c}$`,w=`^${l}\\s*${c}$`,x=`^${l}\\s*(${`v?${`(${$})\\.(${$})\\.(${$})`}${s}?${t}?`})$|^$`,b="^\\s*>=\\s*0.0.0\\s*$";function R(r){return new RegExp(r)}function y(r){return!r||"x"===r.toLowerCase()||"*"===r}function V(...r){return e=>r.reduce(((r,e)=>e(r)),e)}function q(r){return r.match(R(x))}function A(r,e,t,$){const n=`${r}.${e}.${t}`;return $?`${n}-${$}`:n}function O(r){return r.replace(R(f),((r,e,t,$,n,o,i,a,s,u,c,f)=>`${e=y(t)?"":y($)?`>=${t}.0.0`:y(n)?`>=${t}.${$}.0`:`>=${e}`} ${a=y(s)?"":y(u)?`<${+s+1}.0.0-0`:y(c)?`<${s}.${+u+1}.0-0`:f?`<=${s}.${u}.${c}-${f}`:`<=${a}`}`.trim()))}function z(r){return r.replace(R(p),"$1$2$3")}function E(r){return r.replace(R(m),"$1~")}function T(r){return r.replace(R(h),"$1^")}function Z(r){return r.trim().split(/\s+/).map((r=>r.replace(R(v),((r,e,t,$,n)=>y(e)?"":y(t)?`>=${e}.0.0 <${+e+1}.0.0-0`:y($)?"0"===e?`>=${e}.${t}.0 <${e}.${+t+1}.0-0`:`>=${e}.${t}.0 <${+e+1}.0.0-0`:n?"0"===e?"0"===t?`>=${e}.${t}.${$}-${n} <${e}.${t}.${+$+1}-0`:`>=${e}.${t}.${$}-${n} <${e}.${+t+1}.0-0`:`>=${e}.${t}.${$}-${n} <${+e+1}.0.0-0`:"0"===e?"0"===t?`>=${e}.${t}.${$} <${e}.${t}.${+$+1}-0`:`>=${e}.${t}.${$} <${e}.${+t+1}.0-0`:`>=${e}.${t}.${$} <${+e+1}.0.0-0`)))).join(" ")}function k(r){return r.trim().split(/\s+/).map((r=>r.replace(R(g),((r,e,t,$,n)=>y(e)?"":y(t)?`>=${e}.0.0 <${+e+1}.0.0-0`:y($)?`>=${e}.${t}.0 <${e}.${+t+1}.0-0`:n?`>=${e}.${t}.${$}-${n} <${e}.${+t+1}.0-0`:`>=${e}.${t}.${$} <${e}.${+t+1}.0-0`)))).join(" ")}function L(r){return r.split(/\s+/).map((r=>r.trim().replace(R(w),((r,e,t,$,n,o)=>{const i=y(t),a=i||y($),s=a||y(n);return"="===e&&s&&(e=""),o="",i?">"===e||"<"===e?"<0.0.0-0":"*":e&&s?(a&&($=0),n=0,">"===e?(e=">=",a?(t=+t+1,$=0,n=0):($=+$+1,n=0)):"<="===e&&(e="<",a?t=+t+1:$=+$+1),"<"===e&&(o="-0"),`${e+t}.${$}.${n}${o}`):a?`>=${t}.0.0${o} <${+t+1}.0.0-0`:s?`>=${t}.${$}.0${o} <${t}.${+$+1}.0-0`:r})))).join(" ")}function P(r){return r.trim().replace(R(j),"")}function C(r,e){return(r=+r||r)>(e=+e||e)?1:r===e?0:-1}function D(r,e){return C(r.major,e.major)||C(r.minor,e.minor)||C(r.patch,e.patch)||function(r,e){const{preRelease:t}=r,{preRelease:$}=e;if(void 0===t&&$)return 1;if(t&&void 0===$)return-1;if(void 0===t&&void 0===$)return 0;for(let n=0,o=t.length;n<=o;n++){const r=t[n],e=$[n];if(r!==e)return void 0===r&&void 0===e?0:r?e?C(r,e):-1:1}return 0}(r,e)}function I(r,e){return r.version===e.version}function M(r,e){switch(r.operator){case"":case"=":return I(r,e);case">":return D(r,e)<0;case">=":return I(r,e)||D(r,e)<0;case"<":return D(r,e)>0;case"<=":return I(r,e)||D(r,e)>0;case void 0:return!0;default:return!1}}function X(r,e){if(!r)return!1;const t=function(r){return V(O,z,E,T)(r.trim()).split(/\s+/).join(" ")}(e),$=t.split(" ").map((r=>function(r){return V(Z,k,L,P)(r)}(r))).join(" "),n=$.split(/\s+/).map((r=>r.trim().replace(R(b),""))),o=q(r);if(!o)return!1;const[,i,,a,s,u,c]=o,f={operator:i,version:A(a,s,u,c),major:a,minor:s,patch:u,preRelease:null==c?void 0:c.split(".")};for(const l of n){const r=q(l);if(!r)return!1;const[,e,,t,$,n,o]=r;if(!M({operator:e,version:A(t,$,n,o),major:t,minor:$,patch:n,preRelease:null==o?void 0:o.split(".")},f))return!1}return!0}const B={react:{get:()=>()=>H("./__federation_shared_react.js"),import:!0},"react-dom":{get:()=>()=>H("./__federation_shared_react-dom.js"),import:!0},"react-redux":{get:()=>()=>H("./__federation_shared_react-redux.js"),import:!0},"react-router":{get:()=>()=>H("./__federation_shared_react-router.js"),import:!0},"react-router-dom":{get:()=>()=>H("./__federation_shared_react-router-dom.js"),import:!0},"redux-persist":{get:()=>()=>H("./__federation_shared_redux-persist.js"),import:!0}},F=Object.create(null);async function G(r,e="default"){return F[r]?new Promise((e=>e(F[r]))):await async function(r,e){let t=null;if(globalThis?.__federation_shared__?.[e]?.[r]){const $=globalThis.__federation_shared__[e][r],n=Object.keys($)[0],o=Object.values($)[0];B[r]?.requiredVersion?X(n,B[r].requiredVersion)?t=await(await o.get())():console.log(`provider support ${r}(${n}) is not satisfied requiredVersion(\${moduleMap[name].requiredVersion})`):t=await(await o.get())()}if(t)return t.default&&(t=t.default),F[r]=t,t}(r,e)||async function(r){if(B[r]?.import){let e=await(await B[r].get())();return e.default&&(e=e.default),F[r]=e,e}console.error("consumer config import=false,so cant use callback shared module")}(r)}async function H(e){return r((()=>import(e)),[])}export{G as i};
