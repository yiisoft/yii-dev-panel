"use strict";(self.webpackChunkyii_dev_panel=self.webpackChunkyii_dev_panel||[]).push([[2748],{72748:function(t,e,r){function n(t,e){var r=f(t),n=!1;for(var i in e){var o=e[i];o===a?(delete r[i],n=n||i in t):(r[i]=o,n=n||t[i]!==o)}return n?r:t}r.r(e),r.d(e,{DELETE:function(){return a},deepUpdate:function(){return p},update:function(){return n}});var a={},i=function(){function t(t){this.data=t}return t.prototype.at=function(e){return new t({type:"at",parent:this,field:e})},t.prototype.set=function(t){return this.modify((function(e){return t}))},t.prototype.delete=function(){return this.modify((function(t){return a}))},t.prototype.modify=function(t){var e=this.findTarget(),r=this.cloneForUpdate(e);if("aborted"===r.name)return e;var n=r.clonedTarget,i=r.leafHost,o=r.field,u=r.structurallyModified,f=l(i),d=f?i.get():i[o],p=t(d);if(""===o)return f?i.Option(p):p;var s=u;if(p===a)if(Array.isArray(i)&&"number"===typeof o){if(o>=i.length)return e;s=!0,i.splice(o,1)}else f?(o in i.value&&(s=!0),delete i.value[o]):(o in i&&(s=!0),delete i[o]);else if(d!==p&&(s=!0),f)i.value[o]=p;else{var c=l(d)?d.Option(p):p;i[o]=c}return s?n:e},t.prototype.withDefault=function(e){return new t({type:"withDefault",parent:this,defaultValue:o(e)})},t.prototype.abortIfNot=function(e){return new t({type:"abortIfNot",parent:this,predicate:e})},t.prototype.abortIfUndef=function(){return this.abortIfNot((function(t){return l(t)?"some"===t.type:void 0!==t}))},t.prototype.findTarget=function(){for(var t=this;;){if("root"===t.data.type)return t.data.target;t=t.data.parent}},t.prototype.parentUpdaters=function(){for(var t=[this],e=this.data.parent;e&&e.data.parent;)t.unshift(e),e=e.data.parent;return t},t.prototype.getNextValue=function(t,e,r,n){var a=l(e),i=l(t);if("at"===this.data.type){var u=this.data.field;if(a){if("none"===e.type)return{host:void 0,field:u};e.value=o(e.value);var f=o(e.value[u]),d=n?e:f;return e.value[this.data.field]=f,{host:d,field:u}}if(!e)return{host:void 0,field:u};f=o(e[u]);var p=n?e:f;return void 0!==f&&(e[this.data.field]=f),{host:p,field:u}}if("abortIfNot"===this.data.type&&!1===this.data.predicate(e))return{host:e,field:r,aborted:!0};if("withDefault"===this.data.type&&(void 0===t[r]||l(t[r]))){f=l(e)?e.Option(this.data.defaultValue):this.data.defaultValue;var s=n?t:f;return i?t.value[r]=f:t[r]=f,{host:s,field:r,structurallyModified:!0}}return{host:n?t:e,field:r}},t.prototype.cloneForUpdate=function(t){for(var e=this.parentUpdaters(),r=u(t),n=r,a=r,i="",o=!1,f=0;f<e.length;f++){var d=e[f].getNextValue(n,a,i,f===e.length-1);if(d.aborted)return{name:"aborted"};o=o||d.structurallyModified,n=a,a=d.host,i=d.field}return{name:"result",clonedTarget:r,leafHost:a,field:i,structurallyModified:o}},t}();function o(t){return function(t){return null!==t&&"object"===typeof t}(t)?u(t):t}function u(t){return Array.isArray(t)?t.slice():l(t)?t.map(d):f(t)}function f(t){var e={};return Object.keys(t).forEach((function(r){e[r]=t[r]})),e}function d(t){return t}function l(t){return!!t&&("some"===t.type||"none"===t.type)&&t.Option}function p(t){return new i({type:"root",target:t})}}}]);
//# sourceMappingURL=2748.edc0060a.chunk.js.map