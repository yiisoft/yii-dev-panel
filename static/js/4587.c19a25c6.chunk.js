"use strict";(self.webpackChunk_yiisoft_yii_dev_panel=self.webpackChunk_yiisoft_yii_dev_panel||[]).push([[4587],{7036:function(e,n,r){r.r(n);var t,i,o=r(37900),a=r.n(o),s=r(71879),c=r(92912),l=r(33028),u=r(59740),d=r(98788),h=r(37574),f=["href"],p=a().forwardRef((function(e,n){var r=e.href,t=(0,u.Z)(e,f);return"string"!==typeof r||"#"===r?(0,h.jsx)("a",(0,l.Z)({href:"#",ref:n},t)):r.startsWith("http://")||r.startsWith("https://")?(0,h.jsx)("a",(0,l.Z)({href:r,ref:n},t)):(0,h.jsx)(c.Link,(0,l.Z)({ref:n,to:r},t))})),x=function(e){var n=e.children,r=(0,d.useMediaQuery)("(prefers-color-scheme: dark)")?"dark":"light",t=(0,d.createTheme)({palette:{mode:r,primary:{main:"#00617B"},secondary:{main:"#873C00"}},components:{MuiLink:{defaultProps:{component:p}},MuiButtonBase:{defaultProps:{LinkComponent:p}}}});return(0,h.jsx)(d.ThemeProvider,{theme:t,children:n})},m=r(98071),j=r(68079),g=r(22983),v=r(14975),y=r(56666),b=r(53992),C=(0,g.createSlice)({name:"application",initialState:{baseUrl:b.D.backendUrl,preferredPageSize:20,toolbarOpen:!0,favoriteUrls:[]},reducers:{changeBaseUrl:function(e,n){e.baseUrl=n.payload},setToolbarOpen:function(e,n){e.toolbarOpen=n.payload},setPreferredPageSize:function(e,n){e.preferredPageSize=n.payload},addFavoriteUrl:function(e,n){var r=new Set(e.favoriteUrls);e.favoriteUrls=Array.from(r.add(n.payload).values())},removeFavoriteUrl:function(e,n){var r=new Set(e.favoriteUrls);r.delete(n.payload),e.favoriteUrls=Array.from(r.values())}}}),Z=C.actions,w=Z.changeBaseUrl,k=Z.setToolbarOpen,S=Z.setPreferredPageSize,I=Z.addFavoriteUrl,T=Z.removeFavoriteUrl,L=r(18008),R=r(92296),B={key:C.reducer.name,version:2,storage:L.Z},P=(0,y.Z)({},C.name,(0,R.persistReducer)(B,C.reducer)),E=[],F=r(78640),A=r(32723),O=r(34795),D=function(e){return function(){var n=(0,O.Z)((0,A.Z)().mark((function n(r,t,i){var o,a,s;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(null===(o=t.getState().application)||void 0===o?void 0:o.baseUrl)||"",s=(0,v.ni)({baseUrl:a+e,referrerPolicy:"no-referrer",headers:{Accept:"application/json"}}),n.abrupt("return",s(r,t,i));case 3:case"end":return n.stop()}}),n)})));return function(e,r,t){return n.apply(this,arguments)}}()},z=(0,F.LC)({reducerPath:"api.inspector",keepUnusedDataFor:0,tagTypes:["inspector/composer"],baseQuery:D("/inspect/api/"),endpoints:function(e){return{getParameters:e.query({query:function(){return"params"},transformResponse:function(e){return e.data||[]}}),getConfiguration:e.query({query:function(){return"config?group=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"di")},transformResponse:function(e){return e.data}}),getClasses:e.query({query:function(){return"classes"},transformResponse:function(e){return e.data||[]}}),getObject:e.query({query:function(e){return"object?classname=".concat(e)},transformResponse:function(e){return e.data}}),getCommands:e.query({query:function(e){return"command"},transformResponse:function(e){return e.data||[]}}),runCommand:e.mutation({query:function(e){return{url:"command?command=".concat(e),method:"POST"}},transformResponse:function(e){return e.data}}),getFiles:e.query({query:function(e){return"files?path=".concat(e)},transformResponse:function(e){return e.data||[]}}),getClass:e.query({query:function(e){return"files?class=".concat(e)},transformResponse:function(e){return e.data||[]}}),getTranslations:e.query({query:function(){return"translations"},transformResponse:function(e){return e.data||[]}}),putTranslations:e.mutation({query:function(e){return{method:"PUT",url:"translations",body:e}},transformResponse:function(e){return e.data||[]}}),getTable:e.query({query:function(e){return e?"table/".concat(e):"table"},transformResponse:function(e){return e.data||[]}}),doRequest:e.mutation({query:function(e){return{method:"PUT",url:"request?debugEntryId=".concat(e.id)}},transformResponse:function(e){return e.data||[]}}),getRoutes:e.query({query:function(){return"routes"},transformResponse:function(e){return e.data||[]}}),getPhpInfo:e.query({query:function(){return"phpinfo"},transformResponse:function(e){return e.data||[]}}),getComposer:e.query({query:function(){return"composer"},transformResponse:function(e){return e.data},providesTags:["inspector/composer"]}),getComposerInspect:e.query({query:function(e){return"composer/inspect?package=".concat(e)},transformResponse:function(e){return e.data},providesTags:["inspector/composer"]}),getCache:e.query({query:function(e){return"cache?key=".concat(e)},transformResponse:function(e){return e.data}}),deleteCache:e.mutation({query:function(e){return{url:"cache?key=".concat(e),method:"DELETE"}},transformResponse:function(e){return e.data}}),clearCache:e.mutation({query:function(){return{url:"cache/clear",method:"POST"}},transformResponse:function(e){return e.data}}),postComposerRequirePackage:e.mutation({query:function(e){return{url:"composer/require",method:"POST",body:{package:e.packageName,version:e.version,isDev:e.isDev}}},transformResponse:function(e){return e.data},invalidatesTags:["inspector/composer"]})}}}),M=z.useGetParametersQuery,N=z.useLazyGetParametersQuery,q=z.useGetConfigurationQuery,G=z.useGetObjectQuery,_=z.useGetClassesQuery,Y=z.useLazyGetObjectQuery,U=z.useLazyGetFilesQuery,Q=z.useLazyGetClassQuery,V=z.useLazyGetCommandsQuery,W=z.useRunCommandMutation,H=z.useGetTranslationsQuery,K=z.usePutTranslationsMutation,X=z.useDoRequestMutation,$=z.useGetRoutesQuery,J=z.useGetTableQuery,ee=z.useGetPhpInfoQuery,ne=z.useGetComposerQuery,re=z.useGetCacheQuery,te=z.useDeleteCacheMutation,ie=(z.useLazyGetCacheQuery,z.useClearCacheMutation),oe=(z.useLazyGetComposerInspectQuery,z.useGetComposerInspectQuery),ae=z.usePostComposerRequirePackageMutation,se=(0,F.LC)({reducerPath:"api.inspector.git",keepUnusedDataFor:0,tagTypes:["git/summary","git/log"],baseQuery:D("/inspect/api/git/"),endpoints:function(e){return{getSummary:e.query({query:function(){return"summary"},providesTags:["git/summary"],transformResponse:function(e){return e.data}}),getLog:e.query({query:function(){return"log"},providesTags:["git/log"],transformResponse:function(e){return e.data}}),checkout:e.mutation({query:function(e){return{url:"checkout",method:"POST",body:{branch:e.branch}}},invalidatesTags:[{type:"git/summary"}]}),command:e.mutation({query:function(e){var n=e.command;return{url:"command?command=".concat(n),method:"POST"}},invalidatesTags:[{type:"git/summary"}]})}}}),ce=se.useGetSummaryQuery,le=se.useGetLogQuery,ue=se.useCommandMutation,de=se.useCheckoutMutation,he=(t={},(0,y.Z)(t,z.reducerPath,z.reducer),(0,y.Z)(t,se.reducerPath,se.reducer),t),fe=[z.middleware,se.middleware],pe=(0,F.LC)({reducerPath:"api.debug",baseQuery:D("/debug/api/"),endpoints:function(e){return{getDebug:e.query({query:function(){return""},transformResponse:function(e){return e.data||[]}}),getObject:e.query({query:function(e){return"object/".concat(e.debugEntryId,"/").concat(e.objectId)},transformResponse:function(e){return e.data||[]}}),getCollectorInfo:e.query({query:function(e){return"view/".concat(e.id,"?collector=").concat(e.collector)},transformResponse:function(e){return e.data||[]},transformErrorResponse:function(e){return e.data}})}}}),xe=pe.useGetDebugQuery,me=pe.useLazyGetDebugQuery,je=pe.useGetObjectQuery,ge=pe.useLazyGetObjectQuery,ve=pe.useLazyGetCollectorInfoQuery,ye=(0,g.createSlice)({name:"store.debug",initialState:{entry:null},reducers:{changeEntryAction:function(e,n){e.entry=n.payload}}}),be=ye.actions.changeEntryAction,Ce=function(){return(0,m.useSelector)((function(e){var n;return null===(n=e[ye.name])||void 0===n?void 0:n.entry}))},Ze={key:ye.reducer.name,version:1,storage:L.Z},we=(i={},(0,y.Z)(i,ye.name,(0,R.persistReducer)(Ze,ye.reducer)),(0,y.Z)(i,pe.reducerPath,pe.reducer),i),ke=[pe.middleware],Se=(0,F.LC)({reducerPath:"api.gii",baseQuery:D("/gii/api"),endpoints:function(e){return{getGenerators:e.query({query:function(){return"/generator"},transformResponse:function(e){return e.generators||[]}}),postPreview:e.mutation({query:function(e){var n=e.generator,r=e.parameters;return{url:"/generator/".concat(n,"/preview"),method:"POST",body:{parameters:r}}}}),postGenerate:e.mutation({query:function(e){var n=e.generator,r=e.parameters,t=e.answers;return{url:"/generator/".concat(n,"/generate"),method:"POST",body:{parameters:r,answers:t}}}}),postDiff:e.mutation({query:function(e){var n=e.generator,r=e.parameters,t=e.fileId;return{url:"/generator/".concat(n,"/diff?file=").concat(t),method:"POST",body:{parameters:r}}}})}}}),Ie=Se.useGetGeneratorsQuery,Te=Se.useLazyGetGeneratorsQuery,Le=Se.usePostPreviewMutation,Re=Se.usePostGenerateMutation,Be=Se.usePostDiffMutation,Pe=(0,y.Z)({},Se.reducerPath,Se.reducer),Ee=[Se.middleware],Fe=r(96234),Ae=(0,g.createSlice)({name:"store.openApi",initialState:{entries:{}},reducers:{addApiEntry:function(e,n){e.entries=(0,l.Z)((0,l.Z)({},e.entries),{},(0,y.Z)({},n.payload,n.payload))},updateApiEntry:function(e,n){e.entries=n.payload},deleteApiEntry:function(e,n){var r=Object.entries(e.entries).filter((function(e){var r=(0,Fe.Z)(e,2),t=r[0];r[1];return t!=n.payload}));e.entries=Object.fromEntries(r)}}}),Oe=Ae.actions,De=Oe.addApiEntry,ze=(Oe.updateApiEntry,Oe.deleteApiEntry),Me=function(){return(0,m.useSelector)((function(e){return e[Ae.name].entries}))},Ne={key:Ae.reducer.name,version:1,storage:L.Z},qe=(0,y.Z)({},Ae.name,(0,R.persistReducer)(Ne,Ae.reducer)),Ge=[],_e=(0,g.combineReducers)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},P),he),we),Pe),qe)),Ye=(0,g.configureStore)({reducer:_e,middleware:function(e){return e({serializableCheck:{ignoredActions:[R.FLUSH,R.REHYDRATE,R.PAUSE,R.PERSIST,R.PURGE,R.REGISTER]}}).concat([].concat((0,j.Z)(E),(0,j.Z)(fe),(0,j.Z)(ke),(0,j.Z)(Ee),(0,j.Z)(Ge)))},devTools:!1});(0,v.sj)(Ye.dispatch);var Ue=(0,R.persistStore)(Ye),Qe=m.useSelector,Ve=r(20790),We=r(66507),He=r(34581),Ke=r(56277),Xe=r(33359),$e=r(1059),Je=r(24539),en=r(18753);function nn(e){return(0,h.jsxs)(d.SvgIcon,(0,l.Z)((0,l.Z)({width:"128",height:"128",viewBox:"0 0 128 128",fill:"none"},e),{},{children:[(0,h.jsx)("path",{d:"M77.2531 82.0012C76.3867 70.5107 72.6982 63.0625 70.902 58.8408C69.107 54.6204 66.3466 50.6693 66.3448 50.6758C66.3395 50.6937 63.8596 64.1219 59.4008 73.8374C58.6566 75.4599 57.6681 77.4858 56.6706 79.1173C53.5924 84.5783 49.1259 89.8028 46.4639 95.0981C43.8245 100.346 43.3347 105.544 43.5802 111.453C43.8274 117.395 45.1937 123.223 46.5054 129C51.4499 127.928 55.7533 126.094 59.4761 123.749C69.2731 117.577 75.193 107.706 76.8753 97.0716C76.8753 97.0716 76.9572 96.6396 76.9939 96.1129C77.7524 87.8936 77.5015 85.3005 77.2531 82.0012Z",fill:"#40B3D8"}),(0,h.jsx)("path",{d:"M77.2531 82.0012C76.3867 70.5107 72.6982 63.0625 70.902 58.8409C69.107 54.6204 66.3466 50.6693 66.3448 50.6758L66.3442 50.6788C66.3442 50.677 66.3448 50.6753 66.3448 50.6753L65.686 49.6909C51.2382 29.312 23.5302 19.1371 0.119787 28.5678C-1.00751 42.8522 5.5831 67.4296 29.6275 74.2849C39.3479 77.2898 47.1316 76.5104 56.6712 79.1167C56.6706 79.1167 56.6706 79.1173 56.6706 79.1173C56.6706 79.1173 66.3674 82.5131 72.0086 87.6053C74.546 89.8952 77.087 92.909 76.9595 96.4937C77.7631 87.9628 77.5057 85.3529 77.2531 82.0012Z",fill:"#83C933"}),(0,h.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7534 38.717C63.3372 28.6738 64.7847 21.9442 71.0349 12.5791C74.0159 8.1108 79.1626 2.92804 83.6735 0C101.873 11.4595 108.603 32.8043 101.909 52.6279C97.0385 67.0518 92.4683 73.0997 80.9125 87.9401C82.2592 72.0462 76.6921 61.0271 71.2264 48.7834C69.8353 45.6683 67.9116 42.1223 66.7534 38.717Z",fill:"#F18A2A"}),(0,h.jsx)("path",{d:"M76.9596 96.4936C77.0871 92.909 74.546 89.8951 72.0086 87.6053C66.3674 82.5131 56.6712 79.1173 56.6712 79.1173C57.6687 77.4858 58.6572 75.4599 59.4014 73.8374C63.8602 64.1219 66.3401 50.6937 66.3454 50.6758C66.3472 50.6699 69.107 54.6204 70.9027 58.8409C72.6989 63.0625 76.3867 70.5101 77.2537 82.0012C77.5057 85.3529 77.7631 87.9628 76.9596 96.4936Z",fill:"#7FB93C"})]}))}var rn=function(e){var n,r=e.error,t=e.resetErrorBoundary;return(0,h.jsx)(He.Z,{mt:2,children:(0,h.jsxs)(d.Alert,{severity:"error",children:[(0,h.jsx)(d.AlertTitle,{children:"Something went wrong:"}),(0,h.jsx)("pre",{children:r.message}),(0,h.jsx)(d.Accordion,{children:(0,h.jsx)(d.AccordionDetails,{children:(0,h.jsx)("pre",{children:null===(n=r.stack)||void 0===n?void 0:n.toString()})})}),(0,h.jsx)(d.Button,{color:"error",variant:"outlined",onClick:t,children:"Try again"})]})})},tn=r(46329),on=r(71442),an=void 0,sn=["href","name","onClick"],cn=[{name:"Gii",link:"/gii"},{name:"Debug",link:"/debug"},{name:"Inspector",link:"#",items:[{name:"Routes",link:"/inspector/routes"},{name:"Parameters",link:"/inspector/parameters"},{name:"Configuration",link:"/inspector/configuration"},{name:"Container",link:"/inspector/container"},{name:"Tests",link:"/inspector/tests"},{name:"Analyse",link:"/inspector/analyse"},{name:"File Explorer",link:"/inspector/files"},{name:"Translations",link:"/inspector/translations"},{name:"Commands",link:"/inspector/commands"},{name:"Database",link:"/inspector/database"},{name:"Cache",link:"/inspector/cache"},{name:"Git",link:"/inspector/git"},{name:"PHP Info",link:"/inspector/phpinfo"},{name:"Composer",link:"/inspector/composer"}]},{name:"Open API",link:"/open-api"}],ln=(0,d.styled)(d.Link)((function(e){return{margin:e.theme.spacing(2,1),color:"white"}})),un=function(e){var n=e.href,r=e.name,t=e.onClick,i=(0,u.Z)(e,sn);return n?(0,h.jsx)(ln,(0,l.Z)((0,l.Z)({href:n},i),{},{children:r})):(0,h.jsx)(ln,(0,l.Z)((0,l.Z)({onClick:function(e){return e.preventDefault(),!!t&&t(e)}},i),{},{children:r}))},dn=function(e){var n=e.children,r=o.useState({}),t=(0,Fe.Z)(r,2),i=t[0],a=t[1],s=function(e,n){a((0,l.Z)((0,l.Z)({},i),{},(0,y.Z)({},e,n.currentTarget)))},c=function(e){var n=(0,l.Z)({},i);delete n[e],a(n)},u=o.useState(null),f=(0,Fe.Z)(u,2),p=f[0],x=f[1];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.CssBaseline,{}),(0,h.jsx)(We.Z,{position:"static",color:"primary",children:(0,h.jsx)($e.Z,{children:(0,h.jsxs)(Ke.Z,{disableGutters:!0,children:[(0,h.jsx)(d.Link,{href:"/",children:(0,h.jsx)(nn,{sx:{display:"flex",mr:1}})}),(0,h.jsx)(Xe.Z,{variant:"h6",children:(0,h.jsx)(d.Link,{href:"/",sx:{color:"white",textDecoration:"none"},children:"Yii Dev Panel"})}),(0,h.jsx)(He.Z,{sx:{flexGrow:1,display:"flex"},children:cn.map((function(e){if(!e.items)return(0,h.jsx)(un,{name:e.name,href:e.link},e.name);var n=e.name;return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(un,{name:e.name,onClick:s.bind(an,n)}),(0,h.jsx)(d.Menu,{anchorEl:i[n],keepMounted:!0,open:Boolean(i[n]),onClose:c.bind(an,n),children:e.items.map((function(e){return(0,h.jsx)(d.MenuItem,{href:e.link,onClick:c.bind(an,n),component:d.Link,children:e.name},e.name)}))})]},e.name)}))}),(0,h.jsxs)("div",{children:[(0,h.jsx)(d.IconButton,{size:"large",onClick:function(e){x(e.currentTarget)},color:"inherit",children:(0,h.jsx)(on.Z,{})}),(0,h.jsxs)(d.Menu,{anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){return x(null)},children:[(0,h.jsxs)(d.MenuItem,{component:d.Link,href:"https://github.com/yiisoft/yii-dev-panel",target:"_blank",children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.GitHub,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Open Github"})]}),(0,h.jsxs)(d.MenuItem,{component:d.Link,onClick:function(){"location"in window&&window.location.reload()},children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.Refresh,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Refresh page"})]}),(0,h.jsxs)(d.MenuItem,{component:"span",disableTouchRipple:!0,disableRipple:!0,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.ContentCut,{fontSize:"small"})}),(0,h.jsxs)(d.ListItemText,{children:["Build ",(0,h.jsx)("b",{children:b.D.buildVersion})]})]})]})]})]})})}),(0,h.jsx)($e.Z,{children:(0,h.jsx)(en.ErrorBoundary,{FallbackComponent:rn,resetKeys:[window.location.pathname],children:(0,h.jsx)(Je.Outlet,{})})}),n]})},hn=function(e){var n=e.data;return(0,h.jsx)(d.Tooltip,{title:"".concat((1e3*(n.web||n.console).request.processingTime).toFixed(1)," ms"),arrow:!0,children:(0,h.jsxs)(d.Button,{color:"info",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:[(n.web||n.console).request.processingTime.toFixed(3)," s"]})})};function fn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0==e)return"0 B";var r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(n))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}var pn=function(e){var n=e.data;return(0,h.jsx)(d.Tooltip,{title:"".concat((n.web||n.console).memory.peakUsage.toLocaleString(void 0)," bytes"),arrow:!0,children:(0,h.jsx)(d.Button,{color:"info",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:fn((n.web||n.console).memory.peakUsage)})})},xn=function(e){return e.AssetCollector="Yiisoft\\Yii\\Debug\\Collector\\Web\\AssetCollector",e.LogCollector="Yiisoft\\Yii\\Debug\\Collector\\LogCollector",e.EventCollector="Yiisoft\\Yii\\Debug\\Collector\\EventCollector",e.ExceptionCollector="Yiisoft\\Yii\\Debug\\Collector\\ExceptionCollector",e.ServiceCollector="Yiisoft\\Yii\\Debug\\Collector\\ServiceCollector",e.ValidatorCollector="Yiisoft\\Yii\\Debug\\Collector\\ValidatorCollector",e.DatabaseCollector="Yiisoft\\Yii\\Debug\\Collector\\Database\\DatabaseCollector",e.QueueCollector="Yiisoft\\Yii\\Debug\\Collector\\Queue\\QueueCollector",e.HttpClientCollector="Yiisoft\\Yii\\Debug\\Collector\\HttpClientCollector",e.FilesystemStreamCollector="Yiisoft\\Yii\\Debug\\Collector\\Stream\\FilesystemStreamCollector",e.HttpStreamCollector="Yiisoft\\Yii\\Debug\\Collector\\Stream\\HttpStreamCollector",e.ConsoleAppInfoCollector="Yiisoft\\Yii\\Debug\\Collector\\Console\\ConsoleAppInfoCollector",e.CommandCollector="Yiisoft\\Yii\\Debug\\Collector\\Console\\CommandCollector",e.MiddlewareCollector="Yiisoft\\Yii\\Debug\\Collector\\Web\\MiddlewareCollector",e}({}),mn=["data"],jn=(0,o.forwardRef)((function(e,n){var r=e.data;(0,u.Z)(e,mn);return(0,h.jsx)(d.Badge,{color:"secondary",badgeContent:String(r.logger.total),children:(0,h.jsx)(d.Button,{ref:n,href:"/debug?collector=".concat(xn.LogCollector,"&debugEntry=").concat(r.id),startIcon:(0,h.jsx)(tn.ChatBubble,{fontSize:"small"}),color:"info",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:"Logs"})})})),gn=["data"],vn=(0,o.forwardRef)((function(e,n){var r=e.data;(0,u.Z)(e,gn);return(0,h.jsx)(d.Badge,{color:"secondary",badgeContent:String(r.event.total),children:(0,h.jsx)(d.Button,{ref:n,href:"/debug?collector=".concat(xn.EventCollector,"&debugEntry=").concat(r.id),startIcon:(0,h.jsx)(tn.ChatBubble,{fontSize:"small"}),color:"info",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:"Events"})})}));vn.displayName=d.Button.name;var yn=function(e){var n=e.data;return 0===n.validator.total?null:(0,h.jsx)(d.Badge,{color:"secondary",badgeContent:String(n.validator.total),children:(0,h.jsx)(d.Button,{startIcon:(0,h.jsx)(tn.ChatBubble,{fontSize:"small"}),color:0===n.validator.invalid?"info":"warning",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:"Validator"})})},bn=r(84533),Cn=r(98578),Zn=["data"],wn=(0,o.forwardRef)((function(e,n){var r=e.data;(0,u.Z)(e,Zn);return(0,h.jsx)(d.Badge,{color:"secondary",badgeContent:String(r.event.total),children:(0,h.jsx)(d.Button,{ref:n,color:"info",variant:"contained",sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:(0,bn.Z)((0,Cn.fromUnixTime)((r.web||r.console).request.startTime),"do MMM hh:mm:ss")})})}));function kn(e){return e&&"console"in e}function Sn(e){return e&&"web"in e}wn.displayName=d.Button.name;var In=function(e){var n=e.data;if(!n.command)return null;var r,t=(0,o.useState)(null),i=(0,Fe.Z)(t,2),a=i[0],s=i[1],c=Boolean(a),l=function(){return s(null)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Tooltip,{title:"Click to see more options",arrow:!0,children:(0,h.jsx)(d.Button,{startIcon:(0,h.jsx)(tn.Terminal,{fontSize:"small"}),color:(r=n.command.exitCode,0===r?"success":"error"),variant:"contained",onClick:function(e){return s(e.currentTarget)},sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:n.command.name})}),(0,h.jsxs)(d.Menu,{anchorEl:a,open:c,onClose:l,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,h.jsxs)(d.MenuItem,{onClick:l,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.Repeat,{fontSize:"small"})}),"Repeat"]}),n.command.class&&(0,h.jsxs)(d.MenuItem,{onClick:l,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.DataObject,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Class"}),(0,h.jsx)(d.Typography,{variant:"body2",color:"text.secondary",ml:2,children:n.command.class})]}),n.command.input&&(0,h.jsxs)(d.MenuItem,{onClick:l,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.Input,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Input"}),(0,h.jsx)(d.Typography,{variant:"body2",color:"text.secondary",ml:2,children:n.command.input})]})]})]})},Tn=r(69105),Ln=function(e){switch(!0){case Array.isArray(e)&&2===e.length:return e.join("::");case"string"===typeof e:return e;default:return JSON.stringify(e)}},Rn=function(e){switch(!0){case e>=400:return"error";case e>=300:return"warning";case e>=200:return"success"}return"info"},Bn=function(e){var n,r,t,i=e.data,a=(0,o.useState)(null),s=(0,Fe.Z)(a,2),c=s[0],l=s[1],u=Boolean(c),f=function(){return l(null)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Tooltip,{title:"Click to see more options",arrow:!0,children:(0,h.jsxs)(d.Button,{color:Rn(i.response.statusCode),variant:"contained",onClick:function(e){return l(e.currentTarget)},sx:{whiteSpace:"nowrap",textTransform:"none",borderRadius:0},children:[i.request.method,"\xa0",i.request.path,"\xa0",String(i.response.statusCode)]})}),(0,h.jsxs)(d.Menu,{anchorEl:c,open:u,onClose:f,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,h.jsxs)(d.MenuItem,{onClick:f,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.Repeat,{fontSize:"small"})}),"Repeat"]}),(null===(n=i.router)||void 0===n?void 0:n.middlewares)&&(0,h.jsx)(Tn.NestedMenuItem,{onClick:f,sx:{padding:"6px 16px"},leftIcon:(0,h.jsx)(tn.DynamicFeed,{fontSize:"small",sx:{color:"text.secondary",mr:1}}),label:"Middlewares",parentMenuOpen:u,children:i.router.middlewares.map((function(e,n){return(0,h.jsx)(d.MenuItem,{onClick:f,children:(0,h.jsxs)(d.ListItemText,{color:"text.secondary",children:[n+1,". ",Ln(e)]})},n)}))}),(null===(r=i.router)||void 0===r?void 0:r.action)&&(0,h.jsxs)(d.MenuItem,{onClick:f,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.DataObject,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Action"}),(0,h.jsx)(d.Typography,{variant:"body2",color:"text.secondary",ml:2,children:Ln(i.router.action)})]}),(null===(t=i.router)||void 0===t?void 0:t.name)&&(0,h.jsxs)(d.MenuItem,{onClick:f,children:[(0,h.jsx)(d.ListItemIcon,{children:(0,h.jsx)(tn.Route,{fontSize:"small"})}),(0,h.jsx)(d.ListItemText,{children:"Route"}),(0,h.jsx)(d.Typography,{variant:"body2",color:"text.secondary",ml:2,children:i.router.name})]})]})]})},Pn=function(e){var n=e.data;return n.router?(0,h.jsx)(d.Button,{startIcon:(0,h.jsx)(tn.Route,{fontSize:"small"}),color:"info",variant:"contained",sx:{whiteSpace:"nowrap",height:"100%",textTransform:"none",borderRadius:0},children:n.router.name}):null},En=[],Fn={key:C.reducer.name,version:2,storage:L.Z},An=(0,y.Z)({},C.name,(0,R.persistReducer)(Fn,C.reducer)),On=[],Dn=(0,g.combineReducers)((0,l.Z)((0,l.Z)((0,l.Z)({},{}),we),An)),zn=(0,g.configureStore)({reducer:Dn,middleware:function(e){return e({serializableCheck:{ignoredActions:[R.FLUSH,R.REHYDRATE,R.PAUSE,R.PERSIST,R.PURGE,R.REGISTER]}}).concat([].concat((0,j.Z)(En),(0,j.Z)(ke),(0,j.Z)(On)))},devTools:!1});(0,v.sj)(zn.dispatch);(0,R.persistStore)(zn);var Mn=m.useSelector,Nn=function(){var e=Mn((function(e){return e.application.toolbarOpen})),n=(0,o.useState)(e),r=(0,Fe.Z)(n,2),t=r[0],i=r[1],a=xe(),s=Ce(),c=(0,m.useDispatch)(),l=null!==s&&void 0!==s?s:a.data?a.data[0]:null;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.Portal,{children:!a.isLoading&&l&&(0,h.jsxs)(d.Paper,{component:He.Z,elevation:10,sx:{position:t?"sticky":"fixed",bottom:0,right:0,width:t?"100%":"initial",transition:"width 350ms ease-in-out",py:1,px:.5,boxSizing:"border-box",backgroundColor:"primary.main",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,h.jsx)(He.Z,{sx:{display:t?"inline-block":"none"},children:(0,h.jsxs)(d.ButtonGroup,{disableElevation:!0,children:[Sn(l)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Bn,{data:l}),(0,h.jsx)(hn,{data:l}),(0,h.jsx)(pn,{data:l}),(0,h.jsx)(Pn,{data:l})]}),kn(l)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(In,{data:l}),(0,h.jsx)(hn,{data:l}),(0,h.jsx)(pn,{data:l})]}),(0,h.jsx)(jn,{data:l}),(0,h.jsx)(vn,{data:l}),(0,h.jsx)(yn,{data:l}),(0,h.jsx)(wn,{data:l})]})}),(0,h.jsx)(He.Z,{children:(0,h.jsx)(d.IconButton,{onClick:function(){i((function(e){return c(k(!e)),!e}))},sx:{marginX:1,background:"white"},children:(0,h.jsx)(nn,{sx:{transform:t?"rotate(0deg)":"rotate(360deg)",transition:"transform 400ms ease-in-out"}})})})]})})})};var qn=r(41361),Gn=r(87566),_n=/(static )?(function |fn )\([\s\S]*\)[\s\S]*((\{[\s\S]*\})|(=>[\s\S]*))/,Yn=o.memo((function(e){var n,r=e.value,t=e.depth,i=void 0===t?5:t,o=e.editable,a=void 0!==o&&o,s=e.onChange,c=void 0===s?void 0:s,l=e.valueTypes,u=void 0===l?[]:l,f=(0,d.useMediaQuery)("(prefers-color-scheme: dark)")?"dark":"light";if("string"==typeof r&&null!==(n=r.match(_n))&&void 0!==n&&n.length){var p=r.replaceAll("\n","<br/>").replaceAll(" ","&nbsp");return(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:p}})}return(0,h.jsx)(Gn.JsonViewer,{rootName:!1,value:r,editable:a,onChange:c,displayDataTypes:!1,quotesOnKeys:!1,enableClipboard:!0,defaultInspectDepth:i,groupArraysAfterLength:50,theme:f,style:{height:"100%",width:"100%"},collapseStringsAfterLength:50,valueTypes:[{is:function(e){return"string"===typeof e&&e.startsWith("@")},Component:function(e){return(0,h.jsxs)(h.Fragment,{children:["alias: ",e.value]})}},{is:function(e){return Array.isArray(e)&&0===e.length},Component:function(e){return(0,h.jsx)(h.Fragment,{children:"[]"})}}].concat((0,j.Z)(u))})})),Un=r(70552),Qn=function(e){return Number(e.substring(e.indexOf("#",-1)+1))},Vn=o.memo((function(e){var n=ge(),r=(0,Fe.Z)(n,1)[0],t=Ce(),i=(0,o.useState)(e.value),a=(0,Fe.Z)(i,2),s=a[0],c=a[1],l=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n,i){var o,a,l,u,d,h;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({debugEntryId:t.id,objectId:Qn(n)});case 2:o=e.sent,a=(0,Un.deepUpdate)(s),l=(0,qn.Z)(i);try{for(l.s();!(u=l.n()).done;)d=u.value,a=a.at(d)}catch(f){l.e(f)}finally{l.f()}h=a.set(o.data),c(h);case 8:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),u=[{is:function(e){return"string"===typeof e&&!!e.match(/object@[\w\\]+#\d/)},Component:function(e){return(0,h.jsxs)(h.Fragment,{children:[e.value,(0,h.jsx)("button",{onClick:function(n){return l(e.value,e.path)},children:"Load"},e.path.join(","))]})}}];return(0,h.jsx)(Yn,{value:s,valueTypes:u})})),Wn=r(67132);function Hn(e){var n=e.rows,r=e.columns,t=e.rowHeight,i=void 0===t?"auto":t,a=e.getRowId,s=void 0===a?function(e){return e.id}:a,l=e.rowsPerPage,u=void 0===l?[20,50,100]:l,d=(0,m.useDispatch)(),f=(0,m.useSelector)((function(e){return e.application.preferredPageSize})),p=(0,c.useSearchParams)({page:"0"}),x=(0,Fe.Z)(p,2),g=x[0],v=x[1],y=(0,o.useState)(f||Math.min.apply(Math,(0,j.Z)(u))),b=(0,Fe.Z)(y,2),C=b[0],Z=b[1],w=(0,o.useCallback)((function(){return i}),[i]);return(0,h.jsx)(Wn.DataGrid,{onCellClick:function(){return null},onCellDoubleClick:function(){return null},onCellFocusOut:function(){return null},onRowClick:function(){return null},onColumnHeaderClick:function(){return null},disableDensitySelector:!0,disableColumnSelector:!0,disableVirtualization:!0,disableSelectionOnClick:!0,rows:n,getRowId:s,columns:r,rowsPerPageOptions:u,pageSize:C,page:Number(g.get("page")),onPageChange:function(e){v({page:String(e)})},onPageSizeChange:function(e){Z(e),d(S(e))},rowBuffer:0,rowThreshold:0,hideFooterSelectedRowCount:!0,autoHeight:!0,sx:{"& .MuiDataGrid-cell":{alignItems:"flex-start",flexDirection:"column"}},getRowHeight:w})}var Kn=[{field:"0",headerName:"Name",width:130},{field:"1",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(Vn,{value:e.value},e.id)}}],Xn=function(){var e=Ce(),n=Array.isArray(e),r=Object.entries(e||[]);return r=r.map((function(e){return{0:e[0],1:n?Object.assign({},e[1]):e[1]}})),(0,h.jsx)("div",{style:{height:400,width:"100%"},children:(0,h.jsx)(Hn,{rows:r,getRowId:function(e){return e[0]},columns:Kn})})},$n=r(93258),Jn=r(43101),er=[{field:"0",headerName:"Name",width:130},{field:"1",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(Vn,{value:e.value},e.id)}}],nr=function(e){var n=e.data,r=Array.isArray(n),t=(0,o.useMemo)((function(){return Object.entries(n||[]).map((function(e){return{0:e[0],1:r?Object.assign({},e[1]):e[1]}}))}),[n]);return(0,h.jsx)(Hn,{getRowId:function(){return 1e3*Math.random()},rows:t,columns:r?[[].concat(er).pop()]:er})},rr=function(e){var n=e.indicatorSize,r=void 0===n?40:n;return(0,h.jsx)(d.CircularProgress,{size:r,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"".concat(-r/2,"px"),marginLeft:"".concat(-r/2,"px")}})},tr=r(45971),ir=r(29642),or=r(2950),ar=r(78903),sr=r(33485),cr=r(93310),lr=r(86008),ur=function(e){return{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}},dr=function(e){return(0,y.Z)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(8)," + 1px)")})},hr=(0,tr.ZP)(ir.ZP,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var n=e.theme,r=e.open;return(0,l.Z)((0,l.Z)((0,l.Z)({width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},r&&{classes:"opened"}),r&&(0,l.Z)((0,l.Z)({},ur(n)),{},{"& .MuiDrawer-paper":ur(n)})),!r&&(0,l.Z)((0,l.Z)({},dr(n)),{},{"& .MuiDrawer-paper":dr(n)}))})),fr={flex:"1 1 auto","&.drawer-opened .MuiListItemButton-root .MuiListItemIcon-root":{mr:1},"& .MuiListItemButton-root .MuiListItemText-root":{display:"none"},"&.drawer-opened .MuiListItemButton-root .MuiListItemText-root":{display:"inline-block"},"& .MuiListItemButton-root .menu-opener":{transition:"transform 0.3s"},"&.drawer-opened .MuiListItemButton-root .menu-opener":{transform:"rotate(180deg)"},zIndex:"auto"},pr=o.memo((function(e){var n=e.onClick,r=e.linkProps,t=e.activeLink;return(0,h.jsxs)(or.Z,{children:[(0,h.jsx)(ar.ZP,{disablePadding:!0,sx:{display:"block"},children:(0,h.jsx)(sr.Z,{onClick:n,sx:{minHeight:48,justifyContent:"flex-end",px:2.5},children:(0,h.jsx)(cr.Z,{sx:{minWidth:0,mr:"auto",transition:"margin-right 1s",justifyContent:"center"},children:(0,h.jsx)(tn.ChevronRight,{className:"menu-opener"})})})}),r.map((function(e,n){return(0,h.jsx)(ar.ZP,{disablePadding:!0,sx:{display:"block"},children:(0,h.jsxs)(sr.Z,{component:d.Link,href:e.href,sx:{minHeight:48,justifyContent:"center",px:2.5,overflowX:"hidden"},children:[(0,h.jsx)(cr.Z,{sx:{minWidth:0,mr:"auto",justifyContent:"center"},children:(0,h.jsx)(d.Badge,{color:"info",badgeContent:e.badge||void 0,children:(0,h.jsx)(d.Avatar,{variant:"rounded",sx:{bgcolor:t===e.text?"secondary.main":"primary.main",fontSize:14},children:e.text.substring(0,3)})})}),(0,h.jsx)(lr.Z,{primary:e.text})]})},n)}))]})})),xr=o.memo((function(e){var n=e.links,r=e.children,t=e.activeLink,i=(0,o.useState)(!!e.open),a=(0,Fe.Z)(i,2),s=a[0],c=a[1],l=(0,o.useRef)();(0,o.useEffect)((function(){c(!!e.open)}),[e.open]);var u=(0,o.useCallback)((function(){c((function(e){return!e}))}),[]);return(0,h.jsxs)(He.Z,{sx:{display:"flex",position:"relative",flexWrap:"nowrap"},ref:l,children:[(0,h.jsx)(hr,{variant:"permanent",className:s?"drawer-opened":"",open:s,container:l.current,PaperProps:{sx:{position:"relative",zIndex:"auto"}},sx:fr,children:(0,h.jsx)(pr,{onClick:u,linkProps:n,activeLink:t})}),(0,h.jsx)(He.Z,{sx:{flex:"1 0 100%",p:1,maxWidth:"95%"},children:r})]})})),mr=function(e){var n=e.text,r=e.title,t=e.icon,i=e.severity;return(0,h.jsx)(He.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:(0,h.jsxs)(h.Fragment,{children:[(0,o.cloneElement)(t,{sx:{my:3,fontSize:150},color:i}),(0,h.jsx)(d.Typography,{component:"h5",variant:"h5",my:3,children:r}),n&&(0,h.jsx)(d.Alert,{severity:i,children:n})]})})},jr=r(64473),gr=r(72897),vr=r(84469),yr=r(47532),br=r(88237),Cr=r(65904),Zr=r(57345),wr=function(e){return e.replace(/([#:][0-9a-z_-]+)$/i,"")};function kr(e){return e.slice(1).slice(0,2).filter(Boolean).map(Number)}var Sr=function(e){var n=wr(e),r=e.match(/[#:]([0-9]+)(?:-([0-9]+))?$/i);return r&&r.length?n+"#L"+kr(r).join("-"):n},Ir=function(e){var n=e.match(/#?L([0-9]+)(?:-([0-9]+))?$/);if(n&&n.length)return kr(n)},Tr=function(e){var n;return null!==(n=e.split("/").pop())&&void 0!==n?n:e},Lr=o.memo((function(e){var n=e.name,r=e.file,t=e.payload,i=e.children,o=n.split("\\").splice(-1).join(""),a=Qn(t||""),s=Ce();return(0,h.jsxs)(Zr.Z,{sx:{py:"12px",px:2,display:"flex",flexDirection:"column"},children:[(0,h.jsxs)(He.Z,{sx:{wordBreak:"break-word"},children:[(0,h.jsx)(d.Tooltip,{title:n,children:(0,h.jsx)(Xe.Z,{component:"span",children:o})}),(0,h.jsx)(d.Tooltip,{title:"Examine an object",children:(0,h.jsx)(d.IconButton,{size:"small",href:"/debug/object?debugEntry=".concat(s.id,"&id=").concat(a),children:(0,h.jsx)(tn.DataObject,{color:"secondary",fontSize:"small"})})}),r&&(0,h.jsx)(d.Tooltip,{title:"Open in File Explorer",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/files?path=".concat(wr(r)),children:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"})})})]}),(0,h.jsx)(He.Z,{children:i})]})})),Rr=function(e){var n=e.beforeStack,r=e.afterStack,t=e.actionHandler;return(0,h.jsxs)(jr.Z,{position:"alternate",children:[n&&n.map((function(e,n){return(0,h.jsxs)(gr.Z,{children:[(0,h.jsx)(br.Z,{sx:{m:"auto 0"},color:"text.secondary",children:(0,h.jsx)(d.Tooltip,{title:e.time,children:(0,h.jsx)(Xe.Z,{component:"span",children:(0,bn.Z)(e.time,"hh:mm:ss.SSSS")})})}),(0,h.jsxs)(vr.Z,{children:[(0,h.jsx)(Cr.Z,{color:"info",children:(0,h.jsx)(tn.ArrowDownward,{})}),(0,h.jsx)(yr.Z,{})]}),(0,h.jsx)(Lr,{name:e.name,payload:e.request})]},n)})),t&&[t].map((function(e,n){return(0,h.jsxs)(gr.Z,{children:[(0,h.jsx)(br.Z,{sx:{m:"auto 0"},align:"right",color:"text.primary",children:(0,h.jsx)(d.Tooltip,{title:e.startTime,children:(0,h.jsx)(Xe.Z,{children:(0,bn.Z)(e.startTime,"hh:mm:ss")})})}),(0,h.jsx)(vr.Z,{children:(0,h.jsx)(Cr.Z,{color:"success",children:(0,h.jsx)(tn.ArrowDownward,{})})}),(0,h.jsx)(Lr,{name:e.name,payload:e.request})]},n)})),r&&r.map((function(e,n){return(0,h.jsxs)(gr.Z,{children:[(0,h.jsx)(br.Z,{sx:{m:"auto 0"},color:"text.secondary",children:(0,h.jsx)(d.Tooltip,{title:e.time,children:(0,h.jsx)(Xe.Z,{component:"span",children:(0,bn.Z)(e.time,"hh:mm:ss")})})}),(0,h.jsxs)(vr.Z,{children:[(0,h.jsx)(yr.Z,{}),(0,h.jsx)(Cr.Z,{color:"info",children:(0,h.jsx)(tn.ArrowDownward,{})})]}),(0,h.jsx)(Lr,{name:e.name,payload:e.response})]},n)}))]})},Br=function(e){var n=e.event,r=Tr(n.line);return(0,h.jsxs)(Xe.Z,{sx:{whiteSpace:"nowrap"},children:[(0,h.jsx)(d.Tooltip,{title:n.line,children:(0,h.jsx)(Xe.Z,{component:"span",sx:{fontSize:"calc(100% - 2px)"},children:r})}),(0,h.jsx)(d.Tooltip,{title:"Open in File Explorer",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/files?path=".concat(Sr(n.line)),children:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"})})})]})},Pr=function(e){var n=e.events;return(0,h.jsx)(jr.Z,{position:"alternate",children:n&&n.map((function(e,r){return(0,h.jsxs)(gr.Z,{children:[(0,h.jsx)(br.Z,{sx:{m:"auto 0"},color:"text.secondary",children:(0,h.jsx)(d.Tooltip,{title:e.time,children:(0,h.jsx)(Xe.Z,{component:"span",children:(0,bn.Z)(e.time,"hh:mm:ss.SSSS")})})}),(0,h.jsxs)(vr.Z,{children:[(0,h.jsx)(Cr.Z,{color:"info",children:(0,h.jsx)(tn.ArrowDownward,{})}),r!==n.length-1&&(0,h.jsx)(yr.Z,{})]}),(0,h.jsx)(Lr,{name:e.name,file:e.file,payload:e.event,children:(0,h.jsx)(Br,{event:e})})]},r)}))})},Er=function(e){var n=e.data;return(0,h.jsx)(h.Fragment,{children:n&&0!==n.length?n.map((function(e,n){return(0,h.jsxs)(d.Alert,{variant:"outlined",severity:"success",icon:!1,children:[(0,h.jsxs)(He.Z,{sx:{display:"flex"},children:[(0,h.jsx)(d.AlertTitle,{sx:{display:"flex",flexGrow:1},children:e.message}),(0,h.jsx)(d.Tooltip,{title:"Open in File Explorer",children:(0,h.jsx)(d.IconButton,{sx:{display:"flex"},size:"small",href:"/inspector/files?path=".concat(wr(e.line)),children:(0,h.jsx)(tn.FilePresent,{fontSize:"small"})})})]}),(0,h.jsx)(d.Typography,{component:"span",children:e.line})]},n)})):(0,h.jsx)(h.Fragment,{children:"Nothing here"})})};function Fr(e){return(0,bn.Z)((0,Cn.fromUnixTime)(e),"do MMM hh:mm:ss")}var Ar=function(e,n){switch(e){case xn.AssetCollector:return n.asset.bundles.total;case xn.DatabaseCollector:return n.db.queries.total+n.db.transactions.total;case xn.ExceptionCollector:return Object.values(n.exception).length>0?1:0;case xn.EventCollector:return n.event.total;case xn.LogCollector:return n.logger.total;case xn.ServiceCollector:return n.service.total;case xn.ValidatorCollector:return n.validator.total+n.validator.invalid+n.validator.valid;case xn.MiddlewareCollector:return n.middleware.total;case xn.QueueCollector:return n.queue.countPushes+n.queue.countStatuses+n.queue.countProcessingMessages;case xn.HttpClientCollector:return n.http.count;case xn.HttpStreamCollector:return n.http_stream.length;case xn.FilesystemStreamCollector:return Object.values(n.fs_stream).reduce((function(e,n){return e+n}),0);case xn.ConsoleAppInfoCollector:default:return 0}},Or=r(88361),Dr=a().memo((function(e){var n=e.language,r=e.code,t=e.highlightLines,i=e.fontSize,o=void 0===i?12:i,a=e.showLineNumbers,s=void 0===a||a,c=e.highlightColor,u=void 0===c?"rgba(0,0,0, .1)":c,d=e.wrappedLines,f=void 0===d?[1,0]:d,p=Math.max(f[0],1),x=Math.max(f[1],0),m=r;return 0===p&&0===x||(m=r.split("\n").slice(p-1,0===x?void 0:x).join("\n")),(0,h.jsx)(Or.Prism,{startingLineNumber:p,showLineNumbers:s,wrapLines:!0,customStyle:{fontSize:"".concat(o,"pt")},useInlineStyles:!0,lineProps:function(e){return(0,l.Z)({id:"L".concat(e)},t&&function(e,n){return 1===n.length?n[0]===e:n[0]<=e&&e<=n[1]}(e,t)&&{style:{backgroundColor:u,display:"block"}})},language:n,children:m})})),zr=r(23038);var Mr=function(e){var n=U(),r=(0,Fe.Z)(n,1)[0],t=(0,o.useState)(null),i=(0,Fe.Z)(t,2),a=i[0],s=i[1];(0,o.useEffect)((function(){(0,O.Z)((0,A.Z)().mark((function n(){var t;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(wr(e.file));case 2:t=n.sent,s(t.data);case 4:case"end":return n.stop()}}),n)})))()}),[e.file]);var c=+e.line;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(d.Accordion,{defaultExpanded:!0,children:[(0,h.jsxs)(d.AccordionSummary,{expandIcon:(0,h.jsx)(zr.Z,{}),children:[(0,h.jsxs)(d.Typography,{sx:{flex:"1 1 50%"},children:[e.class,": ",e.message]}),(0,h.jsxs)(d.Typography,{children:[Tr(e.file),":",e.line]})]}),(0,h.jsxs)(d.AccordionDetails,{children:[(0,h.jsxs)(d.Stack,{direction:"row",children:[(0,h.jsxs)(d.Alert,{severity:"error",sx:{flexGrow:1},children:[(0,h.jsx)(d.AlertTitle,{children:e.class}),e.message]}),(0,h.jsxs)(d.Stack,{children:[(0,h.jsx)(d.Tooltip,{title:"Open in File Explorer",children:(0,h.jsx)(d.Button,{size:"small",target:"_blank",fullWidth:!0,href:"/inspector/files?class=".concat(wr(e.class)),endIcon:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"}),children:"Exception"})}),(0,h.jsx)(d.Tooltip,{title:"Open in File Explorer",children:(0,h.jsx)(d.Button,{size:"small",target:"_blank",fullWidth:!0,href:"/inspector/files?path=".concat(wr(e.file),"#L").concat(e.line),endIcon:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"}),children:"Place"})})]})]}),a&&(0,h.jsx)(Dr,{language:a.extension,code:a.content,highlightLines:[c],highlightColor:"#ffcccc",wrappedLines:[c-5,c+5]}),(0,h.jsxs)(d.Accordion,{children:[(0,h.jsx)(d.AccordionSummary,{expandIcon:(0,h.jsx)(zr.Z,{}),children:"Trace"}),(0,h.jsx)(d.AccordionDetails,{children:(0,h.jsx)(Dr,{fontSize:10,language:"text/plain",code:e.traceAsString||""})})]})]})]})})},Nr=function(e){var n,r;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Typography,{children:["Found ",(0,h.jsx)("b",{children:null===(n=e.exceptions)||void 0===n?void 0:n.length})," cascade exceptions"]}),(null!==(r=e.exceptions)&&void 0!==r?r:[]).map((function(e,n){return(0,h.jsx)(d.Box,{children:(0,h.jsx)(Mr,(0,l.Z)({},e))},n)}))]})},qr=function(e){var n=e.module,t=e.props,i=e.scope,s=e.url,c=function(e){var n=e.url,r=a().useState(!1),t=(0,Fe.Z)(r,2),i=t[0],o=t[1],s=a().useState(!1),c=(0,Fe.Z)(s,2),l=c[0],u=c[1];return a().useEffect((function(){if(n){var e=document.createElement("script");return e.src=n,e.type="text/javascript",e.async=!0,o(!1),u(!1),e.onload=function(){console.debug("Dynamic Script Loaded: ".concat(n)),o(!0)},e.onerror=function(){console.error("Dynamic Script Error: ".concat(n)),o(!1),u(!0)},document.head.appendChild(e),function(){console.debug("Dynamic Script Unloaded: ".concat(n)),document.head.removeChild(e)}}}),[n]),{ready:i,failed:l}}({url:n&&s});if(!n)return(0,h.jsx)(d.Alert,{severity:"error",children:"Module name cannot be empty"});if(!c.ready)return(0,h.jsx)(rr,{});if(c.failed)return(0,h.jsxs)(d.Alert,{severity:"error",children:["Failed to load dynamic script: ",s]});var u=a().lazy(function(e,n){return(0,O.Z)((0,A.Z)().mark((function t(){var i,o,a;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.I("default");case 2:return i=window[e],t.next=5,i.init(r.S.default);case 5:return t.next=7,window[e].get(n);case 7:return o=t.sent,a=o(),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))}(i,n));return(0,h.jsx)(o.Suspense,{fallback:(0,h.jsx)(rr,{}),children:(0,h.jsx)(u,(0,l.Z)({},t))})};var Gr=b.D.backendUrl;function _r(e){var n,r=e.collectorData,t=e.selectedCollector,i=(n={},(0,y.Z)(n,xn.LogCollector,(function(e){return(0,h.jsx)(Er,{data:e})})),(0,y.Z)(n,xn.MiddlewareCollector,(function(e){return(0,h.jsx)(Rr,(0,l.Z)({},e))})),(0,y.Z)(n,xn.EventCollector,(function(e){return(0,h.jsx)(Pr,{events:e})})),(0,y.Z)(n,xn.ExceptionCollector,(function(e){return(0,h.jsx)(Nr,{exceptions:e})})),(0,y.Z)(n,"default",(function(e){if("object"===typeof e&&e.__isPanelRemote__)return(0,h.jsx)(o.Suspense,{fallback:"Loading",children:(0,h.jsx)(qr,{url:Gr+e.url,module:e.module,scope:e.scope,props:{data:e.data}})});if("string"===typeof e)try{JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return(0,h.jsx)(d.Box,{dangerouslySetInnerHTML:{__html:e}});console.error(n)}return(0,h.jsx)(nr,{data:e})})),n);return""===t?(0,h.jsx)(Je.Outlet,{}):(t in i?i[t]:i.default)(r)}function Yr(e){var n=e.error;return console.error(n),(0,h.jsx)(d.Box,{m:2,children:(0,h.jsxs)(d.Alert,{severity:"error",children:[(0,h.jsx)(d.AlertTitle,{children:"Something went wrong:"}),(0,h.jsx)("pre",{children:(null===n||void 0===n?void 0:n.toString())||"unknown"})]})})}var Ur=function(e){switch(!0){case e>=400:return"error";case e>=300:return"warning";case e>=200:return"success"}return"info"},Qr=function(e){var n=e.data,r=e.onChange,t=Ce(),i=(0,o.useCallback)((function(e){return kn(e)?[0===e.command.exitCode?"[OK]":"[ERROR]",e.command.input].join(" "):Sn(e)?["["+e.response.statusCode+"]",e.request.method,e.request.path].join(" "):e.id}),[]),a=(0,o.useCallback)((function(e,n){return(0,o.createElement)(d.Stack,(0,l.Z)((0,l.Z)({},e),{},{key:n.id,component:"li",direction:"row",spacing:2,sx:{"& > img":{mr:2,flexShrink:0}}}),Sn(n)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Typography,{component:"span",sx:{flex:1},children:[(0,h.jsx)(d.Chip,{sx:{borderRadius:"5px 5px",margin:"0 2px"},label:"".concat(n.response.statusCode," ").concat(n.request.method),color:Ur(n.response.statusCode)}),(0,h.jsx)("span",{style:{margin:"0 2px"},children:n.request.path})]}),(0,h.jsx)(d.Typography,{component:"span",sx:{margin:"0 auto"},children:(0,h.jsx)("span",{children:Fr(n.web.request.startTime)})})]}),kn(n)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Typography,{component:"span",sx:{flex:1},children:[0===n.command.exitCode?(0,h.jsx)(d.Chip,{label:"OK",color:"success",sx:{borderRadius:"5px 5px",margin:"0 2px"}}):(0,h.jsx)(d.Chip,{label:"CODE: ".concat(n.command.exitCode),color:"error",sx:{borderRadius:"5px 5px",margin:"0 2px"}}),(0,h.jsx)("span",{style:{margin:"0 2px"},children:n.command.input})]}),(0,h.jsx)(d.Typography,{component:"span",sx:{margin:"0 auto"},children:(0,h.jsx)("span",{children:Fr(n.console.request.startTime)})})]}))}),[]);return(0,h.jsx)(d.Autocomplete,{value:t,options:n||[],getOptionLabel:i,renderOption:a,isOptionEqualToValue:function(e,n){return e.id===n.id},renderInput:function(e){return(0,h.jsx)(d.TextField,(0,l.Z)((0,l.Z)({},e),{},{label:"Record"}))},onChange:function(e,n){r("object"===typeof n?n:null)},sx:{my:1}})},Vr=function(){var e,n=(0,m.useDispatch)(),r=Ce(),t=(0,c.useSearchParams)(),i=(0,Fe.Z)(t,2),a=i[0],s=i[1],l=me(),u=(0,Fe.Z)(l,2),f=u[0],p=u[1],x=(0,o.useState)(a.get("collector")||""),j=(0,Fe.Z)(x,2),g=j[0],v=j[1],y=(0,o.useState)(void 0),b=(0,Fe.Z)(y,2),C=b[0],Z=b[1],w=ve(),k=(0,Fe.Z)(w,2),S=k[0],I=k[1];(0,o.useEffect)((function(){f()}),[]),(0,o.useEffect)((function(){var e,n;p.isSuccess&&p.data&&p.data.length&&(a.has("debugEntry")&&(n=p.data.find((function(e){return e.id===a.get("debugEntry")}))),L(null!==(e=n)&&void 0!==e?e:p.data[0]))}),[p.isSuccess,p.data,n]);var T=function(){a.delete("collector"),v(""),Z(null)};(0,o.useEffect)((function(){var e=a.get("collector")||"";""!==e.trim()?r&&S({id:r.id,collector:e}).then((function(n){var r=n.data;if(n.isError)return T(),void L(null);v(e),Z(r)})).catch(T):T()}),[a,r]);var L=function(e){if(e)return n(be(e)),void s((function(n){return n.set("debugEntry",e.id),n}));n(be(null)),s((function(e){return e.delete("debugEntry"),e}))},R=(0,o.useMemo)((function(){return g.split("\\").pop()}),[g]),B=(0,o.useMemo)((function(){return r?r.collectors.map((function(e,n){return{text:(t=e,t.replace("Yiisoft\\Yii\\Debug\\Collector\\Web\\","").replace("Yiisoft\\Yii\\Debug\\Collector\\Console\\","").replace("Yiisoft\\Yii\\Debug\\Collector\\Database\\","").replace("Yiisoft\\Yii\\Debug\\Collector\\Queue\\","").replace("Yiisoft\\Yii\\Debug\\Collector\\Stream\\","").replace("Yiisoft\\Yii\\Debug\\Collector\\","")),href:"/debug?collector=".concat(e,"&debugEntry=").concat(r.id),icon:n%2===0?(0,h.jsx)($n.Z,{}):(0,h.jsx)(Jn.Z,{}),badge:Ar(e,r)};var t})):[]}),[r]),P=X(),E=(0,Fe.Z)(P,2),F=E[0],D=E[1],z=(0,o.useCallback)((0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,F({id:r.id});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:f();case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[r]),M=(0,o.useCallback)(L,[]),N=(0,o.useCallback)((function(){f()}),[]);return p.isLoading?(0,h.jsx)(rr,{}):p.data&&0===p.data.length?(0,h.jsx)(mr,{title:"No debug entries found",text:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Typography,{children:"Make sure you have enabled debugger and run your application."}),(0,h.jsxs)(d.Typography,{children:['Check the "yiisoft/yii-debug" in the "params.php" on the backend or with'," ",(0,h.jsx)(d.Link,{href:"/inspector/parameters?filter=yiisoft/yii-debug",children:"Inspector"}),"."]}),(0,h.jsxs)(d.Typography,{children:["See more information on the link"," ",(0,h.jsx)(d.Link,{target:"_blank",href:"https://github.com/yiisoft/yii-debug",children:"https://github.com/yiisoft/yii-debug"}),"."]})]}),severity:"info",icon:(0,h.jsx)(tn.EmojiObjects,{})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Breadcrumbs,{sx:{my:2},children:[(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"/debug",children:"Debug"}),!!R&&(0,h.jsx)(d.Typography,{color:"text.primary",children:R})]}),(0,h.jsxs)(d.Stack,{direction:"row",spacing:2,children:[(0,h.jsx)(d.Tooltip,{title:"Refresh the list",children:(0,h.jsx)("span",{children:(0,h.jsx)(d.Button,{onClick:N,disabled:p.isFetching,startIcon:(0,h.jsx)(tn.Refresh,{}),endIcon:p.isFetching?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Refresh"})})}),(0,h.jsx)(d.Tooltip,{title:"Runs the request again",children:(0,h.jsx)("span",{children:(0,h.jsx)(d.Button,{onClick:z,disabled:!r||D.isLoading||p.isFetching,endIcon:D.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):D.isUninitialized?null:D.isSuccess?(0,h.jsx)(tn.Check,{color:"success"}):(0,h.jsx)(tn.Error,{color:"error"}),children:"Repeat Request"})})})]}),(0,h.jsx)(Qr,{data:p.data,onChange:M}),0===B.length?(0,h.jsx)(mr,{title:"Collectors are empty",text:"Looks like debugger was inactive or it did not have any active collectors during the request",severity:"info",icon:(0,h.jsx)(tn.HelpOutline,{})}):(0,h.jsx)(xr,{links:B,open:!g,activeLink:R,children:g?(0,h.jsxs)(h.Fragment,{children:[I.isFetching&&(0,h.jsx)(d.LinearProgress,{}),I.isError&&(0,h.jsx)(Yr,{error:(null===(e=I.error)||void 0===e?void 0:e.error)||I.error}),I.isSuccess&&(0,h.jsx)(en.ErrorBoundary,{FallbackComponent:rn,resetKeys:[window.location.pathname,window.location.search,r],children:(0,h.jsx)(_r,{selectedCollector:g,collectorData:C})})]}):(0,h.jsx)(mr,{title:"No one collector is chosen",text:"Select a collector from the left side panel to see more options",severity:"info",icon:(0,h.jsx)(tn.HelpOutline,{})})})]})},Wr=function(){var e=(0,c.useSearchParams)(),n=(0,Fe.Z)(e,2),r=n[0],t=(n[1],r.get("id")),i=r.get("debugEntry")||"",o=je({debugEntryId:i,objectId:+(t||0)}).data;return(0,h.jsxs)(He.Z,{children:[(0,h.jsxs)(d.Typography,{variant:"h6",my:1,children:["Object #",t]}),(0,h.jsx)(Yn,{value:o})]})},Hr={routes:[{path:"debug",element:(0,h.jsx)(Vr,{}),children:[{element:(0,h.jsx)(Xn,{}),index:!0},{path:"object",element:(0,h.jsx)(Wr,{})}]}],reducers:we,middlewares:ke,standaloneModule:!1},Kr=r(60548),Xr=r(60059),$r=r(26952),Jr=r(4219);function et(e){var n,r=[],t=(0,qn.Z)(e);try{for(t.s();!(n=t.n()).done;){var i=n.value;switch(i[0]){case"required":r.push(Jr.string().required(i.message));break;case"each":r.push(Jr.array(et(i.rules)));break;case"regex":var o=i.pattern,a=o.lastIndexOf("/"),s=o.slice(a+1),c=o.slice(0,a-o.length).slice(1);r.push(Jr.string().matches(new RegExp(c,s),{message:i.message.message}))}}}catch(l){t.e(l)}finally{t.f()}return Jr.mixed().sequence(r)}function nt(e){var n={};return Object.entries(e).map((function(e,r){var t=(0,Fe.Z)(e,2),i=t[0],o=t[1];n[i]=et(o.rules)})),Jr.object(n)}Jr.addMethod(Jr.MixedSchema,"sequence",(function(e){return this.test(function(){var n=(0,O.Z)((0,A.Z)().mark((function n(r,t){var i,o,a,s;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,i=(0,qn.Z)(e),n.prev=2,i.s();case 4:if((o=i.n()).done){n.next=10;break}return a=o.value,n.next=8,a.validate(r);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:n.next=24;break;case 20:return n.prev=20,n.t1=n.catch(0),s=n.t1.message,n.abrupt("return",t.createError({message:s}));case 24:return n.abrupt("return",!0);case 25:case"end":return n.stop()}}),n,null,[[0,20],[2,12,15,18]])})));return function(e,r){return n.apply(this,arguments)}}())}));var rt=r(91318),tt=r(17223);function it(e){var n,r=e.attributeName,t=e.attribute,i=(0,rt.useFormContext)(),o=function(e){var n,r="text",t=(0,qn.Z)(e);try{for(t.s();!(n=t.n()).done;){var i=n.value;if("each"===i){r="select";break}if("number"===i){r="number";break}}}catch(o){t.e(o)}finally{t.f()}return r}(t.rules.map((function(e){return e[0]})));return"text"===o?(0,h.jsx)(rt.Controller,{name:r,defaultValue:String(null!==(n=t.defaultValue)&&void 0!==n?n:""),control:i.control,render:function(e){var n,i=e.field,o=e.fieldState.error;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.TextField,(0,l.Z)((0,l.Z)({},i),{},{placeholder:String(null!==(n=t.defaultValue)&&void 0!==n?n:""),label:t.label||r,error:!!o,helperText:o?o.message:null})),!!t.hint&&(0,h.jsx)(d.FormHelperText,{children:t.hint})]})}}):"select"===o?(0,h.jsx)(rt.Controller,{control:i.control,defaultValue:Array.isArray(t.defaultValue)?t.defaultValue:[],name:r,render:function(e){var n=e.field,i=n.value,o=n.onChange,a=n.onBlur,s=n.ref,c=e.fieldState.error;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Autocomplete,{value:i,onChange:function(e,n){return o(n)},multiple:!0,filterSelectedOptions:!0,filterOptions:function(e){return e},freeSolo:!0,options:[],renderInput:function(e){return(0,h.jsx)(d.TextField,(0,l.Z)((0,l.Z)({},e),{},{ref:s,onBlur:function(){a()},name:r,helperText:c?c.message:null,error:!!c,label:t.label}))}}),(0,h.jsx)(d.FormHelperText,{children:t.hint})]})}}):null}function ot(e,n){if("error"in e){var r,t,i=(null===(r=e.error)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.errors)||{};for(var o in console.error(i),i){var a=i[o];n.setError(o,{message:a.join(" ")})}}}var at={files:[],operations:[],parameters:[],results:[]},st=(0,g.createAction)("setFiles"),ct=(0,g.createAction)("setOperations"),lt=(0,g.createAction)("setParameters"),ut=(0,g.createAction)("setResults"),dt=(0,g.createReducer)(at,(function(e){e.addCase(st,(function(e,n){e.files=n.payload})).addCase(ct,(function(e,n){e.operations=n.payload})).addCase(lt,(function(e,n){e.parameters=n.payload})).addCase(ut,(function(e,n){e.results=n.payload}))})),ht=(0,o.createContext)(at),ft=function(e){var n=e.children,r=a().useReducer(dt,at),t=(0,Fe.Z)(r,2),i=t[0],o=t[1],s={parameters:i.parameters,setParameters:function(e){o(lt(e))},files:i.files,setFiles:function(e){o(st(e))},operations:i.operations,setOperations:function(e){o(ct(e))},results:i.results,setResults:function(e){o(ut(e))}};return(0,h.jsx)(ht.Provider,{value:s,children:n})};var pt=function(e){return e.SAVE="save",e.SKIP="skip",e}({}),xt=function(e){return e.PRESENT_SAME="present_same",e.PRESENT_DIFFERENT="present_different",e.NOT_EXIST="not_exist",e}({});function mt(e){var n="error";switch(e){case"created":n="success";break;case"overwrote":n="info";break;case"skipped":n="warning"}return n}function jt(e){var n="error";switch(e){case xt.NOT_EXIST:n="success";break;case xt.PRESENT_SAME:n="info";break;case xt.PRESENT_DIFFERENT:n="warning"}return n}var gt=r(38357),vt=r(84636);function yt(e){var n=e.onClose,r=e.file,t=e.open;return(0,h.jsxs)(vt.Z,{onClose:function(){n()},open:t,fullWidth:!0,maxWidth:"md",children:[(0,h.jsx)(gt.Z,{children:r.relativePath}),(0,h.jsx)(Dr,{language:r.type,code:r.content})]})}function bt(e){var n=e.onClose,r=e.file,t=e.content,i=e.open;return(0,h.jsxs)(vt.Z,{onClose:function(){n()},open:i,fullWidth:!0,maxWidth:"md",children:[(0,h.jsx)(gt.Z,{children:r.relativePath}),(0,h.jsx)(Dr,{language:"diff",code:t})]})}function Ct(e){var n="Unknown state";switch(e){case xt.PRESENT_SAME:n="Present same";break;case xt.PRESENT_DIFFERENT:n="Present different";break;case xt.NOT_EXIST:n="Does not exist"}return n}function Zt(e){var n=e.file,r=e.generator,t=(0,o.useContext)(ht),i=(0,rt.useFormContext)(),a=(0,o.useState)(i.getValues(n.id)),s=(0,Fe.Z)(a,2),c=s[0],l=s[1],u=o.useState(!1),f=(0,Fe.Z)(u,2),p=f[0],x=f[1],m=o.useState(!1),j=(0,Fe.Z)(m,2),g=j[0],v=j[1],y=Be(),b=(0,Fe.Z)(y,1)[0],C=(0,o.useState)(""),Z=(0,Fe.Z)(C,2),w=Z[0],k=Z[1],S=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(){var i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({generator:r.id,parameters:t.parameters,fileId:n.id});case 2:i=e.sent,console.log("response",i),k(i.data.diff),v(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.ListItem,{children:[(0,h.jsx)(d.ListItemText,{primary:n.relativePath,secondary:(0,h.jsx)(d.Typography,{component:"span",color:jt(n.state)+".main",children:Ct(n.state)})}),(0,h.jsxs)(d.ListItemSecondaryAction,{children:[(0,h.jsx)(d.Box,{mr:2,display:"inline-block",children:n.state===xt.NOT_EXIST?(0,h.jsx)(d.Button,{size:"large",variant:"contained",onClick:function(){x(!0)},children:"Preview"}):n.state===xt.PRESENT_DIFFERENT?(0,h.jsx)(d.Button,{size:"large",variant:"contained",onClick:S,children:"Diff"}):null}),(0,h.jsx)(d.ToggleButtonGroup,{value:c,disabled:n.operation===pt.SKIP,exclusive:!0,onChange:function(e,r){l(r),i.setValue(n.id,r)},children:Object.entries(t.operations).map((function(e){var n=(0,Fe.Z)(e,2),r=n[0],t=n[1];return(0,h.jsx)(d.ToggleButton,{value:r,children:t},r)}))})]})]}),(0,h.jsx)(yt,{file:n,open:p,onClose:function(){x(!1)}}),(0,h.jsx)(bt,{file:n,content:w,open:g,onClose:function(){v(!1)}})]})}var wt=[{component:function(e){var n=e.generator,r=e.onComplete,t=n.attributes,i=nt(t),a=(0,o.useContext)(ht),s=(0,rt.useForm)({mode:"onBlur",resolver:(0,tt.X)(i)}),c=Le(),u=(0,Fe.Z)(c,1)[0];function f(){return(f=(0,O.Z)((0,A.Z)().mark((function e(t){var i;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("preview",t),e.next=3,u({generator:n.id,parameters:t});case 3:if(i=e.sent,console.log(i),!("error"in i)){e.next=8;break}return ot(i,s),e.abrupt("return");case 8:a.setFiles(i.data.files),a.setParameters(t),a.setOperations(i.data.operations),r();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(rt.FormProvider,(0,l.Z)((0,l.Z)({},s),{},{children:(0,h.jsxs)(d.Box,{component:"form",onReset:s.reset,onSubmit:s.handleSubmit((function(e){return f.apply(this,arguments)})),my:2,children:[Object.entries(t).map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(o.Fragment,{children:(0,h.jsx)(d.Box,{mb:1,children:(0,h.jsx)(it,{attributeName:t,attribute:i})})},n)})),(0,h.jsx)(d.Box,{my:2,children:(0,h.jsxs)(d.ButtonGroup,{children:[(0,h.jsx)(d.Button,{type:"submit",name:"preview",variant:"contained",children:"Preview"}),(0,h.jsx)(d.Button,{type:"reset",color:"warning",children:"Reset"})]})})]})}))})},label:"Preview"},{component:function(e){var n=e.generator,r=e.onComplete,t=(0,o.useContext)(ht);console.log("context",t);var i=(0,o.useMemo)((function(){return Object.fromEntries(t.files.map((function(e){return[e.id,String(e.operation)]})))}),[t.files]),a=(0,rt.useForm)({defaultValues:i}),s=Re(),c=(0,Fe.Z)(s,1)[0];function u(){return(u=(0,O.Z)((0,A.Z)().mark((function e(i){var o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("generate",i,t.parameters),e.next=3,c({generator:n.id,parameters:t.parameters,answers:i});case 3:if(!("error"in(o=e.sent))){e.next=8;break}return console.log(o),ot(o,a),e.abrupt("return");case 8:t.setResults(o.data),r();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(rt.FormProvider,(0,l.Z)((0,l.Z)({},a),{},{children:(0,h.jsxs)(d.Box,{component:"form",onReset:a.reset,onSubmit:a.handleSubmit((function(e){return u.apply(this,arguments)})),my:2,children:[(0,h.jsx)(d.List,{subheader:(0,h.jsx)(d.ListSubheader,{children:"Operations"}),children:t.files.map((function(e,r){return(0,h.jsx)(Zt,{file:e,generator:n},r)}))}),(0,h.jsx)(d.Box,{my:2,children:(0,h.jsxs)(d.ButtonGroup,{children:[(0,h.jsx)(d.Button,{type:"submit",name:"generate",variant:"contained",children:"Generate"}),(0,h.jsx)(d.Button,{type:"reset",color:"warning",children:"Reset"})]})})]})}))})},label:"Generate"},{component:function(e){e.generator;var n=e.onComplete,r=(0,o.useContext)(ht),t=r.files;return(0,h.jsxs)(d.Box,{children:[r.results.map((function(e,n){var r=t.find((function(n){return n.id===e.id}));return r?(0,h.jsxs)(d.Alert,{severity:mt(e.status),children:["error"===e.status&&(0,h.jsx)(d.AlertTitle,{children:e.error}),r.relativePath]},n):(0,h.jsxs)(d.Alert,{severity:"error",children:["Unknown file with ID: ",e.id]},n)})),(0,h.jsx)(d.Box,{my:2,children:(0,h.jsx)(d.ButtonGroup,{children:(0,h.jsx)(d.Button,{onClick:function(){n()},variant:"contained",children:"Start new"})})})]})},label:"Result"}];function kt(e){var n=e.generator,r=o.useState(0),t=(0,Fe.Z)(r,2),i=t[0],a=t[1],s=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(ft,{children:(0,h.jsx)(Kr.Z,{activeStep:i,orientation:"vertical",children:Object.values(wt).map((function(e,r){return(0,h.jsxs)(Xr.Z,{children:[(0,h.jsx)($r.Z,{children:e.label}),(0,h.jsx)(d.StepContent,{children:(0,h.jsx)(e.component,{generator:n,onComplete:function(){if(r!==wt.length-1)return s();a(0)}})})]},r)}))})})})}var St=function(){var e=(0,o.useState)(null),n=(0,Fe.Z)(e,2),r=n[0],t=n[1],i=(0,c.useSearchParams)(),a=(0,Fe.Z)(i,1)[0],s=Ie(),l=s.data,u=s.isLoading;(0,o.useEffect)((function(){var e=a.get("generator")||"",n=(l||[]).find((function(n){return n.id===e}))||null;t(n)}),[a,u]);var f=(0,o.useMemo)((function(){return(l||[]).map((function(e,n){return{text:e.name,href:"/gii?generator="+e.id,icon:n%2===0?(0,h.jsx)($n.Z,{}):(0,h.jsx)(Jn.Z,{})}}))}),[l]);return u?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Breadcrumbs,{sx:{my:2},children:[(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"/gii",children:"Gii"}),!!r&&(0,h.jsx)(d.Typography,{component:"span",color:"text.primary",children:r.name})]}),0===f.length?(0,h.jsx)(mr,{title:"Gii generators are empty",text:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Typography,{children:"Gii is not configured or it does not have any generators."}),(0,h.jsxs)(d.Typography,{children:["Make sure Gii is active and its configuration has at least one active generator.\xa0",(0,h.jsx)(d.Link,{href:"/inspector/parameters?filter=yiisoft/yii-gii",children:"Open parameters."})]})]}),severity:"info",icon:(0,h.jsx)(tn.HelpOutline,{})}):(0,h.jsx)(xr,{links:f,open:!r,activeLink:null===r||void 0===r?void 0:r.name,children:r?(0,h.jsx)(en.ErrorBoundary,{FallbackComponent:rn,resetKeys:[window.location.pathname],children:(0,h.jsx)(kt,{generator:r})}):(0,h.jsx)(mr,{title:"No one generator is chosen",text:"Select a generator from the left side panel to see more options",severity:"info",icon:(0,h.jsx)(tn.HelpOutline,{})})})]})};St.whyDidYouRender=!0;var It={routes:[{path:"/gii",element:(0,h.jsx)(St,{})}],reducers:Pe,middlewares:Ee,standaloneModule:!1},Tt=o.memo((function(e){var n=e.onChange,r=e.value,t=void 0===r?"":r,i=(0,o.useRef)(),a=(0,o.useRef)(void 0);return(0,h.jsxs)(d.FormControl,{sx:{mb:1},variant:"standard",children:[(0,h.jsx)(d.InputLabel,{htmlFor:"filter",children:"Filter"}),(0,h.jsx)(d.Input,{id:"filter",autoFocus:!0,inputRef:i,defaultValue:t,onChange:function(e){clearTimeout(a.current),a.current=setTimeout((function(){n(e.target.value)}),300)},endAdornment:(0,h.jsx)(d.InputAdornment,{position:"end",children:(0,h.jsx)(d.IconButton,{onClick:(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(""),i.current&&(i.current.value="");case 2:case"end":return e.stop()}}),e)}))),edge:"end",children:(0,h.jsx)(tn.Clear,{})})})})]})}),(function(e,n){return e.onChange===n.onChange}));function Lt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Rt=[{field:"0",headerName:"Name",width:130},{field:"1",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(Yn,{value:e.value},e.id)}}],Bt=function(){var e=M(),n=e.data,r=e.isLoading,t=(0,c.useSearchParams)(),i=(0,Fe.Z)(t,2),a=i[0],s=i[1],l=a.get("filter")||"",u=(0,o.useMemo)((function(){var e=Array.isArray(n),r=Object.entries(n||[]);return r=r.map((function(n){return{0:n[0],1:e?Object.assign({},n[1]):n[1]}}))}),[n]),d=(0,o.useMemo)((function(){var e=new RegExp(Lt(l),"i");return u.filter((function(n){return n[0].match(e)}))}),[u,l]),f=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({filter:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Parameters"}),(0,h.jsx)(Tt,{value:l,onChange:f}),(0,h.jsx)("div",{style:{width:"100%"},children:(0,h.jsx)(Hn,{rows:d,getRowId:function(e){return e[0]},columns:Rt})})]})},Pt=r(89001),Et=r.n(Pt),Ft={loader:function(){return null}},At=(0,o.createContext)(Ft),Ot=function(e){var n=e.loader,r=e.children;return(0,h.jsx)(At.Provider,{value:{loader:n},children:r})},Dt=(0,g.createAction)("setObjects"),zt=(0,g.createAction)("insertObject"),Mt={objects:[],insertObject:zt,setObjects:Dt},Nt=(0,g.createReducer)(Mt,(function(e){e.addCase(Dt,(function(e,n){var r=n.payload;e.objects=r})).addCase(zt,(function(e,n){var r=n.payload,t=r.id,i=r.object;e.objects=e.objects.map((function(e){return t===e.id?{id:t,value:i}:e}))}))})),qt=(0,o.createContext)(Mt),Gt=function(e){var n=e.children,r=a().useReducer(Nt,Mt),t=(0,Fe.Z)(r,2),i=t[0],s=t[1],c=(0,o.useMemo)((function(){return{objects:i.objects,setObjects:function(e){s(Dt(e))},insertObject:function(e,n){s(zt({id:e,object:n}))}}}),[i.objects]);return(0,h.jsx)(qt.Provider,{value:c,children:n})},_t=function(e){var n=(0,o.useContext)(At).loader;return"string"===typeof e.value&&e.value.match(/^[\w\\]+$/i)?(0,h.jsxs)(h.Fragment,{children:[e.value,(0,h.jsx)(d.Button,{onClick:function(){return n(e.row.id)},children:"Load"})]}):(0,h.jsx)(Yn,{value:e.value})},Yt=[{field:"id",headerName:"Name",width:200,renderCell:function(e){var n=e.value;return(0,h.jsxs)("div",{style:{wordBreak:"break-all"},children:[(0,h.jsx)(d.Tooltip,{title:"Copy",children:(0,h.jsx)(d.IconButton,{size:"small",onClick:function(){return Et()(n)},children:(0,h.jsx)(tn.ContentCopy,{fontSize:"small"})})}),(0,h.jsx)(d.Tooltip,{title:"Examine as a container entry",children:(0,h.jsx)(d.IconButton,{size:"small",href:"/inspector/container/view?class="+n,children:(0,h.jsx)(tn.DataObject,{fontSize:"small"})})}),n]})}},{field:"value",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(_t,(0,l.Z)({},e))}}],Ut=function(){var e=q("di"),n=e.data,r=e.isLoading,t=Y(),i=(0,Fe.Z)(t,1)[0],a=(0,c.useSearchParams)(),s=(0,Fe.Z)(a,2),l=s[0],u=s[1],d=l.get("filter")||"",f=(0,o.useContext)(qt),p=f.objects,x=f.setObjects,m=f.insertObject,j=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:(r=e.sent).data&&m(n,r.data.object);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);(0,o.useEffect)((function(){if(!r&&n){var e=Object.entries(n||[]).map((function(e){return{id:e[0],value:e[1]}}));x(e)}}),[r]);var g=(0,o.useMemo)((function(){var e=new RegExp(Lt(d||""),"i");return p.filter((function(n){return n.id.match(e)}))}),[p,d]),v=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({filter:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Configuration"}),(0,h.jsx)(Tt,{value:d,onChange:v}),(0,h.jsx)(Ot,{loader:j,children:(0,h.jsx)(Hn,{rows:g,getRowId:function(e){return e.id},columns:Yt})})]})},Qt=r(38996),Vt=r(88581),Wt=(0,d.styled)(He.Z)({height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),Ht=[{field:"name",headerName:"Name",width:200,renderCell:function(e){return(0,h.jsxs)("span",{style:{wordBreak:"break-all"},children:[(0,h.jsx)(d.Tooltip,{title:"Copy",children:(0,h.jsx)(d.IconButton,{size:"small",onClick:function(){return Et()(e.row.path)},children:(0,h.jsx)(tn.ContentCopy,{fontSize:"small"})})}),(0,h.jsx)(d.Tooltip,{title:"Examine as a file in new window",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/files?path="+Sr(e.row.path),children:(0,h.jsx)(tn.FilePresent,{fontSize:"small"})})}),e.value]},e.id)}},{field:"status",headerName:"Status",width:80,renderCell:function(e){return(0,h.jsx)(Wt,{children:"ok"===e.value?(0,h.jsx)(Qt.Z,{color:"success"}):(0,h.jsx)(Vt.Z,{color:"error"})},e.id)}},{field:"time",headerName:"Time (ms)",width:100,renderCell:function(e){var n;return(0,h.jsx)(Wt,{children:null===(n=e.value)||void 0===n?void 0:n.toFixed(2)},e.id)}},{field:"stacktrace",headerName:"Stacktrace",flex:1,renderCell:function(e){return(0,h.jsx)(Yn,{value:e.value,depth:0},e.id)}}],Kt=function(){var e=W(),n=(0,Fe.Z)(e,2),r=n[0],t=n[1],i=(0,o.useState)([]),a=(0,Fe.Z)(i,2),s=a[0],c=a[1],l=(0,o.useState)(null),u=(0,Fe.Z)(l,2),f=u[0],p=u[1];function x(){return(x=(0,O.Z)((0,A.Z)().mark((function e(){var n,t,i,o,a,s,l;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("test/codeception");case 2:if("data"in(n=e.sent)&&"object"===typeof n.data){e.next=6;break}return console.error(n),e.abrupt("return");case 6:t=0,i=[],o=(0,qn.Z)(n.data.result);try{for(o.s();!(a=o.n()).done;)s=a.value,l=[s.suite].concat(s.test).filter((function(e){return!!e})).join("::"),t++,i.push({id:t,name:l,status:s.status,stacktrace:s.stacktrace,path:s.file,time:s.time})}catch(u){o.e(u)}finally{o.f()}p({isSuccessful:"ok"===n.data.status,errors:n.data.errors}),c(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=(0,o.useCallback)((function(e){return e.id}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Tests"}),(0,h.jsxs)(He.Z,{display:"flex",alignItems:"center",children:[(0,h.jsx)(d.Button,{onClick:function(){return x.apply(this,arguments)},color:null===f?"primary":f.isSuccessful?"success":"error",disabled:t.isLoading,endIcon:t.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Run Codeception"}),!t.isLoading&&f&&(0,h.jsxs)(h.Fragment,{children:[!0===f.isSuccessful&&(0,h.jsx)(tn.Check,{color:"success"}),!1===f.isSuccessful&&(0,h.jsx)(tn.Error,{color:"error"})]})]}),t.isSuccess&&(0,h.jsx)(Hn,{rows:s,getRowId:m,columns:Ht})]})},Xt=[{field:"file_name",headerName:"File",width:200,renderCell:function(e){var n=e.value+":"+e.row.line_from;return e.row.line_from!==e.row.line_to&&(n+="-"+e.row.line_to),(0,h.jsxs)("span",{style:{wordBreak:"break-all"},children:[(0,h.jsx)(d.Tooltip,{title:"Copy",children:(0,h.jsx)(d.IconButton,{size:"small",onClick:function(){return Et()(n)},children:(0,h.jsx)(tn.ContentCopy,{fontSize:"small"})})}),(0,h.jsx)(d.Tooltip,{title:"Examine as a file",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/files?path="+Sr(n),children:(0,h.jsx)(tn.FilePresent,{fontSize:"small"})})}),n]})}},{field:"message",headerName:"Message",flex:1,renderCell:function(e){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("b",{children:(0,h.jsx)(d.Link,{href:e.row.link,target:"_blank",children:e.row.type})}),e.row.message]})}}];function $t(e){return(0,h.jsx)(Hn,{rows:e,columns:Xt})}var Jt=function(){var e=W(),n=(0,Fe.Z)(e,2),r=n[0],t=n[1],i=(0,o.useState)([]),a=(0,Fe.Z)(i,2),s=a[0],c=a[1],l=(0,o.useState)([]),u=(0,Fe.Z)(l,2),f=u[0],p=u[1],x=(0,o.useState)(null),m=(0,Fe.Z)(x,2),j=m[0],g=m[1];function v(){return(v=(0,O.Z)((0,A.Z)().mark((function e(){var n,t,i,o,a,s,l,u;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("analyse/psalm");case 2:if("data"in(n=e.sent)&&"object"===typeof n.data){e.next=6;break}return console.error(n),e.abrupt("return");case 6:t=[],i=[],o={id:0,file_name:"",file_path:"",line_from:"",line_to:"",type:"",message:"",link:""},a=0,s=(0,qn.Z)(n.data.result),e.prev=11,s.s();case 13:if((l=s.n()).done){e.next=23;break}if(u=l.value,a++,o={id:a,file_name:u.file_name,file_path:u.file_path,line_from:u.line_from,line_to:u.line_to,type:u.type,message:u.message,link:u.link},"info"!==u.severity){e.next=20;break}return t.push(o),e.abrupt("continue",21);case 20:"error"===u.severity&&i.push(o);case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(11),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:g({isSuccessful:"ok"===n.data.status,errors:n.data.errors}),p(t),c(i);case 34:case"end":return e.stop()}}),e,null,[[11,25,28,31]])})))).apply(this,arguments)}var y=o.useState([]),b=(0,Fe.Z)(y,2),C=b[0],Z=b[1],w=function(e){return function(n){Z((function(n){return n.includes(e)?n.filter((function(n){return n!==e})):n.concat(e)}))}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Psalm"}),(0,h.jsxs)(He.Z,{display:"flex",alignItems:"center",children:[(0,h.jsx)(d.Button,{onClick:function(){return v.apply(this,arguments)},color:null===j?"primary":j.isSuccessful?"success":"error",disabled:t.isLoading,endIcon:t.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Run Psalm"}),!t.isLoading&&j&&(0,h.jsxs)(h.Fragment,{children:[!0===j.isSuccessful&&(0,h.jsx)(tn.Check,{color:"success"}),!1===j.isSuccessful&&(0,h.jsx)(tn.Error,{color:"error"})]})]}),t.isSuccess&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Accordion,{expanded:C.includes("panel1"),onChange:w("panel1"),children:[(0,h.jsx)(d.AccordionSummary,{expandIcon:(0,h.jsx)(zr.Z,{}),children:(0,h.jsxs)(Xe.Z,{sx:{width:"33%",flexShrink:0},children:["Info (",f.length,")"]})}),(0,h.jsx)(d.AccordionDetails,{children:$t(f)})]},"panel1"),(0,h.jsxs)(d.Accordion,{expanded:C.includes("panel2"),onChange:w("panel2"),children:[(0,h.jsx)(d.AccordionSummary,{expandIcon:(0,h.jsx)(zr.Z,{}),children:(0,h.jsxs)(Xe.Z,{sx:{width:"33%",flexShrink:0},children:["Errors (",s.length,")"]})}),(0,h.jsx)(d.AccordionDetails,{children:$t(s)})]},"panel2")]})]})},ei=function(e,n){return e+"::"+n+"()"},ni=[{field:"name",headerName:"Name",width:150,renderCell:function(e){return(0,h.jsx)(d.Typography,{component:"span",sx:{wordBreak:"break-word"},children:e.value})}},{field:"method",headerName:"method",width:80,renderCell:function(e){return(0,h.jsx)(d.Typography,{component:"span",sx:{wordBreak:"break-word"},children:e.value})}},{field:"pattern",headerName:"Pattern",width:300,renderCell:function(e){return(0,h.jsx)(d.Typography,{component:"span",sx:{wordBreak:"break-word"},children:e.value})}},{field:"action",headerName:"Action",flex:1,renderCell:function(e){var n=e.value;if(!Array.isArray(n))return n;var r=n[0],t=n[1];return(0,h.jsxs)("div",{style:{wordBreak:"break-all"},children:[(0,h.jsx)(d.Tooltip,{title:"Copy",children:(0,h.jsx)(d.IconButton,{size:"small",onClick:function(){return Et()(ei(r,t))},children:(0,h.jsx)(tn.ContentCopy,{fontSize:"small"})})}),(0,h.jsx)(d.Tooltip,{title:"Examine as a container entry",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/container/view?class="+r,children:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"})})}),(0,h.jsx)(d.Typography,{component:"span",sx:{wordBreak:"break-word"},children:ei(r.split("\\").pop(),t)})]})}},{field:"middlewares",headerName:"Middlewares",flex:1,renderCell:function(e){return(0,h.jsx)(Yn,{depth:0,value:e.value})}}];var ri=function(){var e=$(),n=e.data,r=e.isLoading,t=e.isSuccess,i=(0,o.useState)([]),a=(0,Fe.Z)(i,2),s=a[0],c=a[1];return(0,o.useEffect)((function(){if(t){var e=function(e){var n,r=[],t=0,i=(0,qn.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=void 0;if(Array.isArray(o.middlewares)){var s=o.middlewares.at(-1);Array.isArray(s)&&(a=[s[0],s[1]])}var c,l=(0,qn.Z)(o.methods.filter((function(e){return!["OPTIONS","HEAD"].includes(e)})));try{for(l.s();!(c=l.n()).done;){var u=c.value;r.push({id:String(t++),name:o.name,pattern:o.pattern,method:u,middlewares:o.middlewares,action:a})}}catch(d){l.e(d)}finally{l.f()}}}catch(d){i.e(d)}finally{i.f()}return r.sort((function(e,n){return e.pattern.localeCompare(n.pattern)}))}(n);c(e)}}),[t,n]),r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Routes"}),(0,h.jsx)(Hn,{rows:s,getRowId:function(e){return e.id},columns:ni})]})},ti=function(e){var n=(0,o.useContext)(At).loader;return e.row.value?(0,h.jsx)(Yn,{value:e.value},e.id):(0,h.jsx)(d.Button,{onClick:function(){return n(e.row.id)},children:"Load"})},ii=[{field:"id",headerName:"Name",width:200,renderCell:function(e){var n=e.value;return(0,h.jsxs)("div",{style:{wordBreak:"break-all"},children:[(0,h.jsx)(d.Tooltip,{title:"Copy",children:(0,h.jsx)(d.IconButton,{size:"small",onClick:function(){return Et()(n)},children:(0,h.jsx)(tn.ContentCopy,{fontSize:"small"})})}),(0,h.jsx)(d.Tooltip,{title:"Examine as a container entry",children:(0,h.jsx)(d.IconButton,{size:"small",target:"_blank",href:"/inspector/container/view?class="+n,children:(0,h.jsx)(tn.OpenInNew,{fontSize:"small"})})}),n]})}},{field:"value",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(ti,(0,l.Z)({},e))}}],oi=function(){var e=_(""),n=e.data,r=e.isLoading,t=Y(),i=(0,Fe.Z)(t,1)[0],a=(0,c.useSearchParams)(),s=(0,Fe.Z)(a,2),l=s[0],u=s[1],d=l.get("filter")||"",f=(0,o.useContext)(qt),p=f.objects,x=f.setObjects,m=f.insertObject,j=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(n);case 2:(r=e.sent).data&&m(n,r.data.object);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);(0,o.useEffect)((function(){!r&&n&&x(n.map((function(e){return{id:e,value:null}})))}),[r]);var g=(0,o.useMemo)((function(){var e=new RegExp(Lt(d||""),"i");return p.filter((function(n){return n.id.match(e)}))}),[p,d]),v=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({filter:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Container"}),(0,h.jsx)(Tt,{value:d,onChange:v}),(0,h.jsx)(Ot,{loader:j,children:(0,h.jsx)(Hn,{rows:g,getRowId:function(e){return e.id},columns:ii})})]})},ai=function(){var e=(0,c.useSearchParams)(),n=(0,Fe.Z)(e,1)[0].get("class")||"",r=G(n),t=r.data;return r.isLoading?(0,h.jsx)(rr,{}):(0,h.jsxs)("pre",{children:[(0,h.jsxs)("h2",{children:[n," ",(0,h.jsx)(d.Tooltip,{title:"Examine as a file",children:(0,h.jsx)(d.IconButton,{size:"small",href:"/inspector/files?path="+(null===t||void 0===t?void 0:t.path),children:(0,h.jsx)(tn.FilePresent,{fontSize:"small"})})})]}),(0,h.jsx)(Yn,{value:null===t||void 0===t?void 0:t.object})]})},si=r(431),ci=r(58249);function li(e){switch(e){case"php":return tn.Php;case"html":return tn.Html;case"http":return tn.Http;case"pdf":return tn.PictureAsPdf;case"yaml":case"yml":case"toml":case"ini":case"json":case"xml":return tn.DataObject;case"bash":case"sh":case"shell":case"bat":return tn.Terminal;case"jpg":case"jpeg":case"png":case"webp":case"heic":case"ico":case"icon":case"svg":return tn.Image;case"js":case"jsx":case"ts":case"tsx":return tn.Javascript;case"css":case"scss":case"sass":case"less":return tn.Css;case"txt":case"htaccess":case"md":return tn.TextSnippet}return null}function ui(e){var n;if("dir"==e.type)return tn.Folder;if("link"==e.type)return tn.Link;var r=li(e.extension);if(r)return r;if(((null===(n=e.baseName.match(/\./g))||void 0===n?void 0:n.length)||0)>1){var t=e.baseName.split(".").at(-2);if(t){var i=li(t);if(i)return i}}return tn.FilePresent}var di=["fileIcon","fileSize","fileName"],hi=(0,d.styled)(si.Z)((function(e){var n,r=e.theme;return n={color:r.palette.text.secondary},(0,y.Z)(n,"& .".concat(ci.treeItemClasses.iconContainer),{width:"0 !important"}),(0,y.Z)(n,"& .".concat(ci.treeItemClasses.content),(0,y.Z)({color:r.palette.text.secondary,padding:r.spacing(0,1,0,0),fontWeight:r.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:r.typography.fontWeightRegular},"&:hover":{backgroundColor:r.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"var(--tree-view-bg-color, ".concat(r.palette.action.selected,")"),color:"var(--tree-view-color)"}},"& .".concat(ci.treeItemClasses.label),{fontWeight:"inherit",color:"inherit"})),(0,y.Z)(n,"& .".concat(ci.treeItemClasses.group),(0,y.Z)({marginLeft:0},"& .".concat(ci.treeItemClasses.content),{paddingLeft:r.spacing(2)})),n})),fi=function(e){var n=e.fileIcon,r=e.fileSize,t=e.fileName,i=(0,u.Z)(e,di);return(0,h.jsx)(hi,(0,l.Z)({label:(0,h.jsxs)(He.Z,{sx:{display:"flex",alignItems:"center",py:.5},children:[(0,h.jsx)(He.Z,{component:n,color:"inherit",sx:{mr:1}}),(0,h.jsx)(d.Typography,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:t}),(0,h.jsx)(d.Typography,{variant:"caption",color:"inherit",sx:{whiteSpace:"nowrap"},children:r})]})},i))},pi=o.memo((function(e){var n=e.row,r=(0,o.useMemo)((function(){return fn(n.size)}),[n]);return(0,h.jsx)(fi,{nodeId:n.path,fileName:n.baseName,fileIcon:ui(n),fileSize:r})})),xi=function(e){var n=e.onSelect,r=e.tree;return(0,h.jsx)(ci.TreeView,{defaultCollapseIcon:!1,defaultExpandIcon:!1,defaultEndIcon:!1,defaultParentIcon:!1,multiSelect:!1,sx:{py:2},onNodeSelect:function(e,r){return n(r)},children:r.map((function(e,n){return(0,h.jsx)(pi,{row:e},n)}))})};var mi=function(e){var n=e.path,r=e.onClick,t=n.split("/").filter((function(e){return!!e.length})),i=[];return(0,h.jsx)("h2",{children:(0,h.jsxs)(d.Breadcrumbs,{children:[(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"#",onClick:function(e){return r("/"),!1},children:"@root"}),t.map((function(e,n){return n===t.length-1?(0,h.jsx)(d.Typography,{color:"text.primary",children:e},n):(i.push(e),(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"#",onClick:function(e){return r("/"+i.join("/")),!1},children:e},n))}))]})})};var ji=function(){var e,n,r,t,i=(0,c.useSearchParams)(),a=(0,Fe.Z)(i,2),s=a[0],l=a[1],u=s.get("path")||"/",f=s.get("class")||"",p=U(),x=(0,Fe.Z)(p,2),m=x[0],j=(x[1],Q()),g=(0,Fe.Z)(j,2),v=g[0],y=g[1],b=(0,o.useState)([]),C=(0,Fe.Z)(b,2),Z=C[0],w=C[1],k=(0,o.useState)(null),S=(0,Fe.Z)(k,2),I=S[0],T=S[1];(0,o.useEffect)((function(){(0,O.Z)((0,A.Z)().mark((function e(){var n,r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===f){e.next=6;break}return e.next=3,v(f);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,m(wr(u));case 8:e.t0=e.sent;case 9:n=e.t0,Array.isArray(n.data)?(t=n.data,r=t.slice().sort((function(e,n){return e.path.endsWith("/")&&!n.path.endsWith("/")?n.path.endsWith("/..")?1:-1:n.path.endsWith("/")&&!e.path.endsWith("/")?e.path.endsWith("/..")?-1:1:e.path.localeCompare(n.path)})),w(r)):T(n.data);case 11:case"end":return e.stop()}var t}),e)})))()}),[u,f]),(0,o.useLayoutEffect)((function(){if(I){var e=Ir(window.location.hash);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:450,n=arguments.length>1?arguments[1]:void 0;setTimeout((function(){var r,t=n||(null===(r=window.location.hash)||void 0===r?void 0:r.replace("#","")),i=document.getElementById(t);i&&window.scrollTo({top:i.offsetTop-e,behavior:"smooth"})}))}(25,e&&"L".concat(e[0]))}}));var L=function(e){l({path:e})};return(0,h.jsxs)(h.Fragment,{children:[I&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h2",{children:[(0,h.jsxs)(d.Button,{onClick:function(){T(null),L(I.directory)},children:[(0,h.jsx)(tn.Undo,{})," Back"]}),I.path]}),(0,h.jsx)(Dr,{language:I.extension,code:I.content,highlightLines:Ir(window.location.hash)}),(0,h.jsxs)(d.Box,{children:[(0,h.jsxs)(d.Typography,{children:["Directory: @root",I.directory]}),(0,h.jsxs)(d.Typography,{children:["Permissions: ",I.permissions]}),(0,h.jsxs)(d.Typography,{children:["Owner: ",null!==(e=null===(n=I.user)||void 0===n?void 0:n.name)&&void 0!==e?e:I.user.uid,":",null!==(r=null===(t=I.group)||void 0===t?void 0:t.name)&&void 0!==r?r:I.group.gid]}),(0,h.jsxs)(d.Typography,{children:["Size: ",fn(I.size)]})]})]}),!I&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(mi,{path:u,onClick:L}),(0,h.jsx)(xi,{tree:Z,onSelect:L})]}),y.error&&"status"in y.error&&404===y.error.status&&(0,h.jsx)(d.Typography,{children:"File not found"})]})},gi={updater:function(){return null}},vi=(0,o.createContext)(gi),yi=function(e){var n=e.updater,r=e.children;return(0,h.jsx)(vi.Provider,{value:{updater:n},children:r})},bi=function(e){var n=(0,o.useContext)(vi).updater;return(0,h.jsx)(Yn,{editable:!0,onChange:function(r,t,i){n(e.row[0],String(r[0]),String(r[1]),String(i))},value:e.value})},Ci=[{field:"0",headerName:"Name",width:200,renderCell:function(e){return(0,h.jsx)("span",{style:{wordBreak:"break-all"},children:e.value})}},{field:"1",headerName:"Value",flex:1,renderCell:function(e){return(0,h.jsx)(bi,(0,l.Z)({},e))}}],Zi=function(){var e=H(),n=e.data,r=e.isLoading,t=K(),i=(0,Fe.Z)(t,1)[0],a=(0,o.useState)({}),s=(0,Fe.Z)(a,2),l=(s[0],s[1],(0,c.useSearchParams)()),u=(0,Fe.Z)(l,2),d=u[0],f=u[1],p=d.get("filter")||"",x=(0,o.useMemo)((function(){var e=Array.isArray(n);return Object.entries(n||[]).map((function(n){return{0:n[0],1:e?Object.assign({},n[1]):n[1]}}))}),[n]),m=(0,o.useMemo)((function(){var e=new RegExp(Lt(p||""),"i");return x.filter((function(n){return n[0].match(e)}))}),[x,p]),j=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({filter:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),g=(0,o.useCallback)((function(e,n,r,t){var o={category:e,locale:n,translation:r,message:t};console.log(o),i(o)}),[]);return r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Translations"}),(0,h.jsx)(Tt,{value:p,onChange:j}),(0,h.jsx)(yi,{updater:g,children:(0,h.jsx)(Hn,{rows:m,getRowId:function(e){return e[0]},columns:Ci})})]})},wi=r(72097),ki=r(96074),Si=r(59071),Ii=["open","status","content","onRerun","onClose"],Ti=function(e){var n=e.open,r=e.status,t=e.content,i=e.onRerun,o=e.onClose,a=(0,u.Z)(e,Ii);return(0,h.jsxs)(vt.Z,(0,l.Z)((0,l.Z)({fullWidth:!0,open:n,onClose:o},a),{},{children:[(0,h.jsxs)(gt.Z,{children:['Result "',r,'"']}),(0,h.jsx)(Si.Z,{children:(0,h.jsx)(He.Z,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",m:"auto"},children:(0,h.jsx)(Dr,{showLineNumbers:!1,language:"text/plain",code:"string"===typeof t?t:JSON.stringify(t,null,2)})})}),(0,h.jsxs)(ki.Z,{children:[(0,h.jsx)(wi.Z,{variant:"outlined",color:"primary",onClick:i,startIcon:(0,h.jsx)(tn.Refresh,{}),children:"Rerun"}),(0,h.jsx)(wi.Z,{variant:"contained",color:"secondary",onClick:o,children:"Close"})]})]}))},Li=function(){var e,n=(0,o.useState)({}),r=(0,Fe.Z)(n,2),t=r[0],i=r[1],a=(0,o.useState)({}),s=(0,Fe.Z)(a,2),c=s[0],u=s[1],f=(0,o.useState)(!1),p=(0,Fe.Z)(f,2),x=p[0],m=p[1],j=V(),g=(0,Fe.Z)(j,1)[0],v=W(),b=(0,Fe.Z)(v,2),C=b[0],Z=b[1];(0,o.useEffect)((function(){(0,O.Z)((0,A.Z)().mark((function e(){var n,r,t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:(n=e.sent).data&&(r={},t={},n.data.forEach((function(e){e.group in r?r[e.group].push(e):r[e.group]=[e],t[e.name]={isLoading:!1,response:null}})),u(t),i(r));case 4:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,y.Z)({},n.name,(0,l.Z)((0,l.Z)({},e[n.name]),{},{isLoading:!0})))})),e.next=3,C(n.name);case 3:r=e.sent,u((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,y.Z)({},n.name,(0,l.Z)((0,l.Z)({},e[n.name]),{},{isLoading:!1})))})),m(!0),console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=Object.entries(t);return 0===k.length?(0,h.jsx)(mr,{title:"No commands found",text:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Typography,{children:'Add a command to the "yiisoft/yii-debug-api" section into "params.php" on the backend to be able to run the command from the Yii Dev Panel.'}),(0,h.jsxs)(d.Typography,{children:["You may inspect the section with"," ",(0,h.jsx)(d.Link,{href:"/inspector/parameters?filter=yiisoft/yii-debug-api",children:"Inspector"}),"."]}),(0,h.jsxs)(d.Typography,{children:["See more information on the link"," ",(0,h.jsx)(d.Link,{target:"_blank",href:"https://github.com/yiisoft/yii-debug-api",children:"https://github.com/yiisoft/yii-debug-api"}),"."]})]}),severity:"info",icon:(0,h.jsx)(tn.EmojiObjects,{})}):(console.log(null===(e=Z.data)||void 0===e?void 0:e.result),(0,h.jsxs)(h.Fragment,{children:[k.map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],i=r[1];return(0,h.jsxs)(He.Z,{children:[(0,h.jsx)("h2",{children:t}),i.map((function(e,n){return(0,h.jsxs)(d.Button,{onClick:function(){return w(e)},disabled:c[e.name].isLoading,endIcon:c[e.name].isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:["Run ",e.title]},n)}))]},n)})),(0,h.jsx)(Ti,{status:Z.isLoading?"loading":Z.data?Z.data.status:"fail",content:Z.isLoading?"loading":Z.data?Z.data.result:"",open:x,onRerun:function(){return C(Z.originalArgs)},onClose:function(){return m(!1)}})]}))},Ri=[{field:"name",headerName:"Name",width:200,renderCell:function(e){return(0,h.jsx)(d.Typography,{my:1,sx:{wordBreak:"break-all"},children:e.value})}},{field:"columns",headerName:"Columns count",flex:1,renderCell:function(e){return(0,h.jsx)(d.Typography,{my:1,children:e.value})}},{field:"records",headerName:"Records count",flex:1,renderCell:function(e){return(0,h.jsx)(d.Typography,{my:1,children:e.value})}},{field:"actions",headerName:"Actions",flex:1,renderCell:function(e){return(0,h.jsx)(d.Typography,{my:1,children:(0,h.jsx)(d.Button,{variant:"contained",href:"/inspector/database/".concat(e.row.name),children:"View"})})}}],Bi=function(){var e=J(),n=e.data,r=e.isLoading,t=(0,o.useState)([]),i=(0,Fe.Z)(t,2),a=i[0],s=i[1];return(0,o.useEffect)((function(){if(n){var e,r=[],t=(0,qn.Z)(n);try{for(t.s();!(e=t.n()).done;){var i=e.value;r.push({name:i.table,columns:i.columns.length,records:i.records})}}catch(o){t.e(o)}finally{t.f()}s(r)}}),[r]),r?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:(0,h.jsx)(d.Breadcrumbs,{children:(0,h.jsx)(d.Typography,{children:"Database"})})}),(0,h.jsx)(Hn,{rows:a,getRowId:function(e){return e.name},columns:Ri})]})},Pi=function(){var e=(0,c.useParams)().table,n=J(e),r=n.data,t=n.isLoading,i=(0,o.useState)(""),a=(0,Fe.Z)(i,2),s=a[0],l=a[1],u=(0,o.useState)([]),f=(0,Fe.Z)(u,2),p=f[0],x=f[1],m=(0,o.useState)([]),j=(0,Fe.Z)(m,2),g=j[0],v=j[1];(0,o.useEffect)((function(){if(r){var e=[];console.log(r);var n,t=(0,qn.Z)(r.columns);try{for(t.s();!(n=t.n()).done;){var i=n.value;console.log("column",i),e.push({field:i.name,headerName:i.name,flex:1,renderCell:function(e){return(0,h.jsx)("span",{style:{wordBreak:"break-all",maxHeight:"100px",overflowY:"hidden"},children:e.value})}})}}catch(o){t.e(o)}finally{t.f()}l(r.primaryKeys[0]),v(r.records),x(e)}}),[t]);var y=(0,o.useCallback)((function(e){return e[s]}),[s]);return t?(0,h.jsx)(rr,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:(0,h.jsxs)(d.Breadcrumbs,{children:[(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"/inspector/database",children:"Database"}),(0,h.jsx)(d.Typography,{children:e})]})}),(0,h.jsx)(Hn,{rows:g,getRowId:y,columns:p})]})},Ei=function(){var e=ee(),n=(0,o.useRef)();return(0,o.useEffect)((function(){if(e.data){var r,t,i,o=null!==(r=null===(t=n.current)||void 0===t?void 0:t.shadowRoot)&&void 0!==r?r:null===(i=n.current)||void 0===i?void 0:i.attachShadow({mode:"open"}),a=document.createElement("div");a.innerHTML=e.data||"",null===o||void 0===o||o.appendChild(a)}}),[e.data]),(0,h.jsx)(h.Fragment,{children:!e.isLoading&&e.data&&(0,h.jsx)(d.Box,{ref:n})})},Fi=r(72807),Ai=r(87535),Oi=r(16631),Di=r(2689),zi=r(70983),Mi=["open","isDev","packageName","installedVersion","onClose","onSwitch"],Ni=function(e){var n=e.open,r=e.isDev,t=e.packageName,i=e.installedVersion,a=void 0===i?null:i,s=e.onClose,c=e.onSwitch,f=(0,u.Z)(e,Mi),p=oe(t,{skip:null==t}),x=(0,o.useState)(a),m=(0,Fe.Z)(x,2),j=m[0],g=m[1],v=(0,o.useState)(r),y=(0,Fe.Z)(v,2),b=y[0],C=y[1],Z=ae(),w=(0,Fe.Z)(Z,2),k=w[0],S=w[1],I=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n,r){var t;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({packageName:n,version:r,isDev:b});case 2:t=e.sent,console.log(t),c();case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}();return(0,h.jsxs)(vt.Z,(0,l.Z)((0,l.Z)({fullWidth:!0,open:n,onClose:s},f),{},{children:[(0,h.jsxs)(gt.Z,{children:['Switch version for "',t,'"']}),(0,h.jsxs)(Si.Z,{children:[(0,h.jsx)(Fi.Z,{children:"Select a version to switch"}),(0,h.jsxs)(Fi.Z,{children:["Installed version: ",a]}),(0,h.jsxs)(He.Z,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",m:"auto"},children:[(0,h.jsxs)(Ai.Z,{disabled:S.isLoading,sx:{mt:2,flexGrow:.9},children:[(0,h.jsx)(Oi.Z,{htmlFor:"max-width",children:"Versions"}),(0,h.jsx)(zi.Z,{autoFocus:!0,fullWidth:!0,value:j,onChange:function(e){g(e.target.value)},label:"Version",children:p.data&&p.data.result.versions.map((function(e,n){return(0,h.jsx)(Di.Z,{value:e,children:e},n)}))})]}),(0,h.jsx)(d.FormControlLabel,{sx:{mt:1},control:(0,h.jsx)(d.Switch,{checked:b,onChange:function(){C((function(e){return!e}))}}),label:"--dev"})]})]}),(0,h.jsxs)(ki.Z,{children:[(0,h.jsx)(wi.Z,{variant:"outlined",color:"error",disabled:S.isLoading,onClick:s,children:"Close"}),(0,h.jsx)(wi.Z,{variant:"contained",color:"primary",disabled:S.isLoading,endIcon:S.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,onClick:function(){I(t,j)},children:"Switch"})]})]}))},qi=["children","value","index"];function Gi(e){var n=e.children,r=e.value,t=e.index,i=(0,u.Z)(e,qi);return(0,h.jsx)("div",(0,l.Z)((0,l.Z)({role:"tabpanel",hidden:r!==t},i),{},{children:r===t&&(0,h.jsx)(He.Z,{sx:{p:3},children:(0,h.jsx)(d.Typography,{children:n})})}))}var _i=function(e){return!e.includes("/")},Yi=o.memo((function(e){var n=e.packageName,r=e.version,t=e.onClick;return(0,h.jsxs)(d.ListItem,{disablePadding:!0,sx:{display:"block"},children:[(0,h.jsx)(lr.Z,{primary:n,secondary:r}),!_i(n)&&(0,h.jsx)(d.ListItemSecondaryAction,{children:(0,h.jsx)(d.Button,{onClick:function(){return t(n)},color:"primary",children:"Switch"})})]})})),Ui=function(){var e=ne(),n=(0,o.useState)(0),r=(0,Fe.Z)(n,2),t=r[0],i=r[1],a=(0,o.useState)(!1),s=(0,Fe.Z)(a,2),c=s[0],l=s[1],u=(0,o.useState)(null),f=(0,Fe.Z)(u,2),p=f[0],x=f[1],m=(0,o.useState)(!1),j=(0,Fe.Z)(m,2),g=j[0],v=j[1],y=(0,o.useMemo)((function(){var n={};return e.data&&e.data.lock?(e.data.lock.packages.concat(e.data.lock["packages-dev"]).forEach((function(e){n[e.name]=e.version})),n):n}),[e.data]),b=function(e){x(e),l(!0),v(!1)},C=function(e){x(e),l(!0),v(!0)};return(0,h.jsxs)(He.Z,{sx:{width:"100%"},children:[(0,h.jsx)(He.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,h.jsxs)(d.Tabs,{value:t,onChange:function(e,n){return i(n)},children:[(0,h.jsx)(d.Tab,{label:"Packages"}),(0,h.jsx)(d.Tab,{label:"composer.json"}),(0,h.jsx)(d.Tab,{label:"composer.lock"})]})}),(0,h.jsx)(Gi,{value:t,index:0,children:(0,h.jsxs)(He.Z,{display:"flex",children:[(0,h.jsxs)(d.List,{sx:{width:"100%"},children:[(0,h.jsx)(d.Divider,{children:"Require"}),e.data&&Object.entries(e.data.json.require).map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(Yi,{packageName:t,version:t in y?"Required: ".concat(i,", Installed: ").concat(y[t]):"".concat(i),onClick:b},n)}))]}),(0,h.jsxs)(d.List,{sx:{width:"100%"},children:[(0,h.jsx)(d.Divider,{children:"Require Dev"}),e.data&&Object.entries(e.data.json["require-dev"]).map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(Yi,{packageName:t,version:t in y?"Required: ".concat(i,", Installed: ").concat(y[t]):"".concat(i),onClick:C},n)}))]})]})}),(0,h.jsx)(Gi,{value:t,index:1,children:e.data&&(0,h.jsx)(Yn,{value:e.data.json})}),(0,h.jsx)(Gi,{value:t,index:2,children:e.data&&(0,h.jsx)(Yn,{value:e.data.lock})}),c&&(0,h.jsx)(Ni,{packageName:p,installedVersion:p&&p in y?y[p]:null,open:!0,isDev:g,onClose:function(){return l(!1)},onSwitch:function(){return l(!1)}})]})},Qi=function(){var e=(0,c.useSearchParams)(),n=(0,Fe.Z)(e,2),r=n[0],t=n[1],i=r.get("filter")||"",a=ie(),s=(0,Fe.Z)(a,2),l=s[0],u=s[1],f=te(),p=(0,Fe.Z)(f,2),x=p[0],m=p[1],j=re(i,{skip:""===i}),g=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({filter:n});case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),v=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.refetch();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(i);case 2:return e.next=4,j.refetch();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,j.refetch();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Cache"}),(0,h.jsxs)(d.Stack,{direction:"row",justifyContent:"space-between",children:[(0,h.jsx)(Tt,{value:i,onChange:g}),(0,h.jsx)(d.Button,{color:"error",onClick:b,disabled:u.isLoading,endIcon:u.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Purge cache"})]}),j.isFetching&&(0,h.jsx)(d.LinearProgress,{}),""!==i&&!j.isFetching&&void 0!==j.data&&(0,h.jsxs)(d.Stack,{direction:"column",children:[(0,h.jsxs)(d.Stack,{direction:"row",children:[(0,h.jsx)(d.Button,{color:"primary",onClick:v,disabled:m.isLoading,endIcon:m.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Refresh"}),(0,h.jsx)(d.Button,{color:"error",onClick:y,disabled:m.isLoading,endIcon:m.isLoading?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Delete"})]}),(0,h.jsx)(Yn,{value:j.data})]})]})},Vi=["open","currentBranch","branches","onCancel","onCheckout"],Wi=function(e){var n=e.open,r=e.currentBranch,t=e.branches,i=e.onCancel,a=e.onCheckout,s=(0,u.Z)(e,Vi),c=o.useState(r),d=(0,Fe.Z)(c,2),f=d[0],p=d[1];return(0,h.jsxs)(vt.Z,(0,l.Z)((0,l.Z)({fullWidth:!0,open:n,onClose:i},s),{},{children:[(0,h.jsx)(gt.Z,{children:"Checkout"}),(0,h.jsxs)(Si.Z,{children:[(0,h.jsx)(Fi.Z,{children:"Select a branch to checkout"}),(0,h.jsx)(He.Z,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",m:"auto"},children:(0,h.jsxs)(Ai.Z,{sx:{mt:2,flexGrow:.9},children:[(0,h.jsx)(Oi.Z,{htmlFor:"max-width",children:"Branch"}),(0,h.jsx)(zi.Z,{autoFocus:!0,fullWidth:!0,value:f,onChange:function(e){p(e.target.value)},label:"Branch",children:t.map((function(e,n){return(0,h.jsx)(Di.Z,{value:e,children:e},n)}))})]})})]}),(0,h.jsxs)(ki.Z,{children:[(0,h.jsx)(wi.Z,{variant:"outlined",color:"error",onClick:i,children:"Cancel"}),(0,h.jsx)(wi.Z,{variant:"contained",color:"primary",onClick:function(){a({branch:f})},children:"Checkout"})]})]}))},Hi=(0,g.createAction)("setItems"),Ki={items:[],setItems:Hi},Xi=(0,g.createReducer)(Ki,(function(e){e.addCase(Hi,(function(e,n){var r=n.payload;e.items=r}))})),$i=(0,o.createContext)(Ki),Ji=function(e){var n=e.children,r=a().useReducer(Xi,Ki),t=(0,Fe.Z)(r,2),i=t[0],s=t[1],c=(0,o.useMemo)((function(){return{items:i.items,setItems:function(e){s(Hi(e))}}}),[i.items]);return(0,h.jsx)($i.Provider,{value:c,children:n})},eo=function(){var e,n,r=(0,o.useContext)($i),t=ce(),i=de(),a=(0,Fe.Z)(i,2),s=a[0],c=(a[1],ue()),l=(0,Fe.Z)(c,2),u=l[0],f=l[1];(0,o.useEffect)((function(){r.setItems([])}),[]);var p=o.useState(!1),x=(0,Fe.Z)(p,2),m=x[0],j=x[1],g=(0,o.useCallback)(function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){var r;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.branch,e.next=3,s({branch:r});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]),v=(0,o.useCallback)((function(){return u({command:"pull"})}),[]),y=(0,o.useCallback)((function(){return u({command:"fetch"})}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Git"}),t.isSuccess&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(He.Z,{children:[(0,h.jsxs)(He.Z,{display:"flex",children:[(0,h.jsx)(d.Button,{variant:"outlined",onClick:function(){return t.refetch()},color:t.isSuccess?"primary":"error",disabled:t.isFetching,startIcon:(0,h.jsx)(tn.Refresh,{}),endIcon:t.isFetching?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Refresh"}),(0,h.jsx)(d.Button,{variant:"outlined",sx:{marginLeft:"auto"},onClick:v,color:f.isSuccess||f.isUninitialized?"primary":"error",disabled:f.isLoading,startIcon:(0,h.jsx)(tn.GetApp,{}),endIcon:f.isLoading&&"pull"===(null===(e=f.originalArgs)||void 0===e?void 0:e.command)?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Pull"}),(0,h.jsx)(d.Button,{variant:"outlined",onClick:y,color:f.isSuccess||f.isUninitialized?"primary":"error",disabled:f.isLoading,startIcon:(0,h.jsx)(tn.Sync,{}),endIcon:f.isLoading&&"fetch"===(null===(n=f.originalArgs)||void 0===n?void 0:n.command)?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Fetch"})]}),(0,h.jsxs)(d.List,{children:[(0,h.jsxs)(d.ListItem,{children:[(0,h.jsx)(d.ListItemText,{primary:"Branch",secondary:t.data.currentBranch}),(0,h.jsx)(d.ListItemSecondaryAction,{children:(0,h.jsx)(d.Button,{onClick:function(){return j(!0)},color:"primary",children:"Checkout"})})]}),(0,h.jsxs)(d.ListItem,{children:[(0,h.jsx)(d.ListItemText,{primary:"Last commit: "+t.data.lastCommit.sha,secondary:(0,h.jsxs)(h.Fragment,{children:[t.data.lastCommit.message,"\xa0",(0,h.jsxs)(Xe.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:["by ",t.data.lastCommit.author.name," (",t.data.lastCommit.author.email,")"]})]})}),(0,h.jsx)(d.ListItemSecondaryAction,{children:(0,h.jsx)(d.Button,{color:"primary",href:"/inspector/git/log",children:"Show log"})})]}),t.data.remotes.length>0&&t.data.remotes.map((function(e,n){return(0,h.jsx)(d.ListItem,{children:(0,h.jsx)(d.ListItemText,{primary:"Remote: "+e.name,secondary:e.url})},n)}))]}),(0,h.jsx)(d.Divider,{children:"Status"}),(0,h.jsx)(Dr,{showLineNumbers:!1,language:"plain/text",code:t.data.status.join("\n")})]}),(0,h.jsx)(Wi,{open:m,onCancel:function(){return j(!1)},onCheckout:g,branches:t.data.branches,currentBranch:t.data.currentBranch})]})]})},no=function(){var e,n,r=le(),t=ue(),i=(0,Fe.Z)(t,2),a=i[0],s=i[1],c=(0,o.useContext)($i);(0,o.useEffect)((function(){c.setItems([{title:"Log",href:"/inspector/git/log"}])}),[]);var l=(0,o.useCallback)((function(){return a({command:"pull"})}),[]),u=(0,o.useCallback)((function(){return a({command:"fetch"})}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"Git log"}),r.isSuccess&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(He.Z,{children:[(0,h.jsxs)(He.Z,{display:"flex",children:[(0,h.jsx)(d.Button,{variant:"outlined",onClick:function(){return r.refetch()},color:r.isSuccess?"primary":"error",disabled:r.isFetching,startIcon:(0,h.jsx)(tn.Refresh,{}),endIcon:r.isFetching?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Refresh"}),(0,h.jsx)(d.Button,{variant:"outlined",sx:{marginLeft:"auto"},onClick:l,color:s.isSuccess||s.isUninitialized?"primary":"error",disabled:s.isLoading,startIcon:(0,h.jsx)(tn.GetApp,{}),endIcon:s.isLoading&&"pull"===(null===(e=s.originalArgs)||void 0===e?void 0:e.command)?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Pull"}),(0,h.jsx)(d.Button,{variant:"outlined",onClick:u,color:s.isSuccess||s.isUninitialized?"primary":"error",disabled:s.isLoading,startIcon:(0,h.jsx)(tn.Sync,{}),endIcon:s.isLoading&&"fetch"===(null===(n=s.originalArgs)||void 0===n?void 0:n.command)?(0,h.jsx)(d.CircularProgress,{size:24,color:"info"}):null,children:"Fetch"})]}),(0,h.jsxs)(d.List,{children:[(0,h.jsx)(d.ListItem,{children:(0,h.jsx)(d.ListItemText,{primary:"Branch",secondary:r.data.currentBranch})}),(0,h.jsx)(d.Divider,{children:"History"}),r.data.commits.map((function(e,n){return(0,h.jsx)(d.ListItem,{children:(0,h.jsx)(d.ListItemText,{primary:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Xe.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:[e.sha,":\xa0"]}),e.message]}),secondary:"by ".concat(e.author.name," (").concat(e.author.email,")")})},n)}))]})]})})]})},ro=function(){var e=(0,o.useContext)($i),n=e.items.slice(0,-1),r=e.items.at(-1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.Breadcrumbs,{sx:{my:2},children:[(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:"/inspector/git",children:"Git"}),n.length>0&&n.map((function(e,n){return(0,h.jsx)(d.Link,{underline:"hover",color:"inherit",href:e.href,children:e.title},n)})),r&&(0,h.jsx)(d.Typography,{color:"text.primary",children:r.title})]}),(0,h.jsx)(Je.Outlet,{})]})},to={routes:[{path:"inspector",children:[{path:"parameters",element:(0,h.jsx)(Bt,{})},{path:"configuration",element:(0,h.jsx)(Gt,{children:(0,h.jsx)(Ut,{})})},{path:"tests",element:(0,h.jsx)(Kt,{})},{path:"analyse",element:(0,h.jsx)(Jt,{})},{path:"routes",element:(0,h.jsx)(ri,{})},{path:"files",element:(0,h.jsx)(ji,{})},{path:"translations",element:(0,h.jsx)(Zi,{})},{path:"commands",element:(0,h.jsx)(Li,{})},{path:"database",children:[{index:!0,element:(0,h.jsx)(Bi,{})},{path:":table",element:(0,h.jsx)(Pi,{})}]},{path:"phpinfo",element:(0,h.jsx)(Ei,{})},{path:"composer",element:(0,h.jsx)(Ui,{})},{path:"container",children:[{index:!0,element:(0,h.jsx)(Gt,{children:(0,h.jsx)(oi,{})})},{path:"view",element:(0,h.jsx)(ai,{})}]},{path:"git",element:(0,h.jsx)(Ji,{children:(0,h.jsx)(ro,{})}),children:[{index:!0,element:(0,h.jsx)(eo,{})},{path:"log",element:(0,h.jsx)(no,{})}]},{path:"cache",element:(0,h.jsx)(Qi,{})}]}],reducers:he,middlewares:fe,standaloneModule:!1},io=b.D.backendUrl;function oo(){var e=(0,m.useDispatch)(),n=me(),r=(0,Fe.Z)(n,1)[0],t=N(),i=(0,Fe.Z)(t,1)[0],s=Te(),c=(0,Fe.Z)(s,1)[0],u=Qe((function(e){return e.application.baseUrl})),f=(0,o.useState)(String(u)),p=(0,Fe.Z)(f,2),x=p[0],j=p[1],g=(0,o.useState)({debug:!1,inspector:!1,gii:!1}),v=(0,Fe.Z)(g,2),y=v[0],b=v[1],C=Qe((function(e){return e.application.favoriteUrls}));function Z(){return k.apply(this,arguments)}function k(){return(k=(0,O.Z)((0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r().then((function(e){return b((function(n){return(0,l.Z)((0,l.Z)({},n),{},{debug:e.isSuccess})}))})).catch((function(){return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{debug:!1})}))})),i().then((function(e){return b((function(n){return(0,l.Z)((0,l.Z)({},n),{},{inspector:e.isSuccess})}))})).catch((function(){return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{inspector:!1})}))})),c().then((function(e){return b((function(n){return(0,l.Z)((0,l.Z)({},n),{},{gii:e.isSuccess})}))})).catch((function(){return b((function(e){return(0,l.Z)((0,l.Z)({},e),{},{gii:!1})}))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var n=(0,O.Z)((0,A.Z)().mark((function n(r){return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(r),e(w(r)),n.next=4,Z();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=function(){var e=(0,O.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,S(x);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){Z()}),[]),(0,h.jsxs)(d.Grid,{container:!0,spacing:2,children:[(0,h.jsxs)(d.Grid,{item:!0,md:6,xs:12,children:[(0,h.jsx)("h2",{children:"Yii Dev Panel"}),(0,h.jsxs)(d.Typography,{children:["Default backend url is: ",(0,h.jsx)("b",{children:io})]}),(0,h.jsx)("h3",{children:"API Statuses"}),Object.entries(y).map((function(e,n){return(0,h.jsxs)(a().Fragment,{children:[(0,h.jsx)(d.Typography,{}),e[1]?(0,h.jsxs)(d.Alert,{severity:"success",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize"},children:e[0]}),": connected"]}):(0,h.jsxs)(d.Alert,{severity:"error",children:[(0,h.jsx)("span",{style:{textTransform:"capitalize"},children:e[0]}),": disconnected"]})]},n)})),(0,h.jsxs)(d.Paper,{component:"form",onSubmit:L,sx:{p:[.5,1],my:2,display:"flex",alignItems:"center"},children:[(0,h.jsx)(d.InputBase,{sx:{ml:1,flex:1},placeholder:x,value:x,onChange:function(e){return j(e.target.value)}}),(0,h.jsx)(d.IconButton,{type:"button",sx:{p:2},onClick:function(){return e(I(x))},children:(0,h.jsx)(tn.StarOutline,{})}),(0,h.jsx)(d.IconButton,{type:"submit",sx:{p:2},children:(0,h.jsx)(Qt.Z,{})})]})]}),(0,h.jsx)(d.Grid,{item:!0,md:6,xs:12,children:C.length>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{children:"Favorites"}),(0,h.jsx)(d.List,{children:C.map((function(n,r){return(0,h.jsxs)(d.ListItem,{children:[(0,h.jsx)(d.ListItemText,{children:n}),(0,h.jsxs)(d.ListItemSecondaryAction,{children:[(0,h.jsx)(d.IconButton,{target:"_blank",href:n,children:(0,h.jsx)(tn.OpenInNew,{})}),(0,h.jsx)(d.IconButton,{type:"submit",sx:{p:2},onClick:function(){return e(T(n))},children:(0,h.jsx)(tn.Star,{})}),(0,h.jsx)(d.IconButton,{type:"submit",sx:{p:2},onClick:function(){return S(n)},children:(0,h.jsx)(Qt.Z,{})})]})]},r)}))})]})})]})}var ao={cache:{get:[{key:"123",count:2}],set:[{key:"123",value:{1:2,2:"object@stdClass#6692"},ttl:null,count:2}]}},so=[{severity:"error",text:"Error text"},{severity:"success",text:"Success text"}];function co(){return(0,h.jsxs)(a().Suspense,{fallback:(0,h.jsx)(rr,{}),children:[(0,h.jsx)(qr,{url:"http://localhost:3002/external.js",module:"./LogPanel",scope:"remote",props:{data:so}}),(0,h.jsx)(qr,{url:"http://localhost:3002/external.js",module:"./CachePanel",scope:"remote",props:{data:ao}})]})}var lo={routes:[{index:!0,element:(0,h.jsx)(oo,{})},{path:"shared",element:(0,h.jsx)(co,{})}],reducers:P,middlewares:E,standaloneModule:!1},uo=r(93816),ho=r.n(uo),fo=(r(23601),function(e){var n=o.useState(b.D.backendUrl),r=(0,Fe.Z)(n,2),t=r[0],i=r[1],a=(0,m.useDispatch)(),s=Me(),c=function(){e.onClose()},l=function(e){return function(){return a(ze(e))}};return(0,h.jsxs)(vt.Z,{fullWidth:!0,open:!0,onClose:c,children:[(0,h.jsx)(gt.Z,{children:"Open API entries"}),(0,h.jsxs)(Si.Z,{children:[(0,h.jsx)(Fi.Z,{children:"Create, edit or delete Open API entries."}),(0,h.jsx)(d.List,{children:Object.entries(s).map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],o=r[1];return(0,h.jsx)(d.ListItem,{children:(0,h.jsxs)(d.ListItemButton,{onClick:function(){i(o)},children:[(0,h.jsx)(d.ListItemText,{primary:o,secondary:t}),(0,h.jsx)(d.ListItemSecondaryAction,{children:(0,h.jsx)(d.IconButton,{onClick:l(t),sx:{p:2},children:(0,h.jsx)(tn.Remove,{})})})]})},n)}))}),(0,h.jsxs)(He.Z,{noValidate:!0,component:"form",sx:{display:"flex",flexDirection:"row",p:[.5,1],alignItems:"center"},children:[(0,h.jsx)(d.InputBase,{sx:{ml:1,flex:1},placeholder:"http://localhost/docs/openapi.json",value:t,onChange:function(e){return i(e.target.value)}}),(0,h.jsx)(d.IconButton,{onClick:function(){a(De(t))},sx:{p:2},children:(0,h.jsx)(Qt.Z,{})})]})]}),(0,h.jsx)(ki.Z,{children:(0,h.jsx)(wi.Z,{onClick:c,color:"primary",children:"Close"})})]})}),po=o.memo((function(){return(0,h.jsx)(mr,{title:"No Open API entries found",text:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.Typography,{children:"Click on settings button and add new Open API entry."})}),severity:"info",icon:(0,h.jsx)(tn.EmojiObjects,{})})})),xo=function(){var e=(0,o.useState)(""),n=(0,Fe.Z)(e,2),r=n[0],t=n[1],i=(0,o.useState)(!1),a=(0,Fe.Z)(i,2),s=a[0],c=a[1],l=(0,d.useTheme)(),u=Me();return(0,o.useEffect)((function(){u&&Object.keys(u).length&&t(Object.keys(u)[0])}),[u]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ci.TabContext,{value:r,children:(0,h.jsxs)(d.Stack,{children:[(0,h.jsxs)(d.Stack,{direction:"row",justifyContent:"space-between",children:[(0,h.jsx)(d.Tabs,{value:r,onChange:function(e,n){return t(n)},scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,sx:{maxWidth:"100%"},children:Object.keys(u).map((function(e,n){return(0,h.jsx)(d.Tab,{label:e,value:e,wrapped:!0},n)}))}),(0,h.jsx)(d.IconButton,{onClick:function(){return c(!0)},children:(0,h.jsx)(tn.Settings,{})})]}),(0,h.jsx)(d.TextField,{disabled:!0,value:u[r]}),0===Object.keys(u).length?(0,h.jsx)(po,{}):(0,h.jsx)(h.Fragment,{children:Object.entries(u).map((function(e,n){var r=(0,Fe.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(ci.TabPanel,{value:t,className:l.palette.mode,children:(0,h.jsx)(ho(),{url:i})},n)}))})]})}),s&&(0,h.jsx)(fo,{onClose:function(){c(!1)}})]})},mo=function(e){var n,r,t=e.filter((function(e){return e.standaloneModule})),i=e.filter((function(e){return!e.standaloneModule})),o=[{path:"/",element:(0,h.jsx)(dn,{children:(0,h.jsx)(Nn,{})}),children:(n=[]).concat.apply(n,(0,j.Z)(i.map((function(e){return e.routes}))))}].concat((0,j.Z)((r=[]).concat.apply(r,(0,j.Z)(t.map((function(e){return e.routes}))))));return"github"===b.D.appEnv?(0,c.createHashRouter)(o):(0,c.createBrowserRouter)(o)}([lo,Hr,It,to,{routes:[{path:"/open-api",element:(0,h.jsx)(xo,{})}],reducers:qe,middlewares:Ge,standaloneModule:!1}]);function jo(){return(0,h.jsx)(m.Provider,{store:Ye,children:(0,h.jsx)(Ve.r,{persistor:Ue,children:(0,h.jsx)(x,{children:(0,h.jsx)(c.RouterProvider,{router:mo})})})})}s.createRoot(document.getElementById("root")).render((0,h.jsx)(a().StrictMode,{children:(0,h.jsx)(jo,{})}))}}]);
//# sourceMappingURL=4587.c19a25c6.chunk.js.map