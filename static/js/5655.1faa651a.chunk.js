"use strict";(self.webpackChunk_yiisoft_yii_dev_panel=self.webpackChunk_yiisoft_yii_dev_panel||[]).push([[5655],{15655:function(t,e,r){function n(t,e){var r=f(t),n=!1;for(var a in e){var o=e[a];o===i?(delete r[a],n=n||a in t):(r[a]=o,n=n||t[a]!==o)}return n?r:t}r.r(e),r.d(e,{DELETE:function(){return i},deepUpdate:function(){return p},update:function(){return n}});var i={},a=function(){function t(t){this.data=t}return t.prototype.at=function(e){return new t({type:"at",parent:this,field:e})},t.prototype.set=function(t){return this.modify((function(e){return t}))},t.prototype.delete=function(){return this.modify((function(t){return i}))},t.prototype.modify=function(t){var e=this.findTarget(),r=this.cloneForUpdate(e);if("aborted"===r.name)return e;var n=r.clonedTarget,a=r.leafHost,o=r.field,u=r.structurallyModified,f=l(a),d=f?a.get():a[o],p=t(d);if(""===o)return f?a.Option(p):p;var s=u;if(p===i)if(Array.isArray(a)&&"number"===typeof o){if(o>=a.length)return e;s=!0,a.splice(o,1)}else f?(o in a.value&&(s=!0),delete a.value[o]):(o in a&&(s=!0),delete a[o]);else if(d!==p&&(s=!0),f)a.value[o]=p;else{var c=l(d)?d.Option(p):p;a[o]=c}return s?n:e},t.prototype.withDefault=function(e){return new t({type:"withDefault",parent:this,defaultValue:o(e)})},t.prototype.abortIfNot=function(e){return new t({type:"abortIfNot",parent:this,predicate:e})},t.prototype.abortIfUndef=function(){return this.abortIfNot((function(t){return l(t)?"some"===t.type:void 0!==t}))},t.prototype.findTarget=function(){for(var t=this;;){if("root"===t.data.type)return t.data.target;t=t.data.parent}},t.prototype.parentUpdaters=function(){for(var t=[this],e=this.data.parent;e&&e.data.parent;)t.unshift(e),e=e.data.parent;return t},t.prototype.getNextValue=function(t,e,r,n){var i=l(e),a=l(t);if("at"===this.data.type){var u=this.data.field;if(i){if("none"===e.type)return{host:void 0,field:u};e.value=o(e.value);var f=o(e.value[u]),d=n?e:f;return e.value[this.data.field]=f,{host:d,field:u}}if(!e)return{host:void 0,field:u};f=o(e[u]);var p=n?e:f;return void 0!==f&&(e[this.data.field]=f),{host:p,field:u}}if("abortIfNot"===this.data.type&&!1===this.data.predicate(e))return{host:e,field:r,aborted:!0};if("withDefault"===this.data.type&&(void 0===t[r]||l(t[r]))){f=l(e)?e.Option(this.data.defaultValue):this.data.defaultValue;var s=n?t:f;return a?t.value[r]=f:t[r]=f,{host:s,field:r,structurallyModified:!0}}return{host:n?t:e,field:r}},t.prototype.cloneForUpdate=function(t){for(var e=this.parentUpdaters(),r=u(t),n=r,i=r,a="",o=!1,f=0;f<e.length;f++){var d=e[f].getNextValue(n,i,a,f===e.length-1);if(d.aborted)return{name:"aborted"};o=o||d.structurallyModified,n=i,i=d.host,a=d.field}return{name:"result",clonedTarget:r,leafHost:i,field:a,structurallyModified:o}},t}();function o(t){return function(t){return null!==t&&"object"===typeof t}(t)?u(t):t}function u(t){return Array.isArray(t)?t.slice():l(t)?t.map(d):f(t)}function f(t){var e={};return Object.keys(t).forEach((function(r){e[r]=t[r]})),e}function d(t){return t}function l(t){return!!t&&("some"===t.type||"none"===t.type)&&t.Option}function p(t){return new a({type:"root",target:t})}}}]);
//# sourceMappingURL=5655.1faa651a.chunk.js.map